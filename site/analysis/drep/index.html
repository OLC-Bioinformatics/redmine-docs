<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Drep - OLC Redmine Automator</title>
  

  <link rel="shortcut icon" href="../../img/favicon.ico">

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../../css/highlight.css">

  
  <script>
    // Current page data
    var mkdocs_page_name = "Drep";
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js"></script>
  <script src="../../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../../js/highlight.pack.js"></script>
  <script src="../../js/theme.js"></script> 

  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> OLC Redmine Automator</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        <ul class="current">
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../..">Home</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../../getting_started/">Getting started</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../../troubleshooting/">Troubleshooting</a>
        
    </li>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Analysis</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../amrsummary/">Amrsummary</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../autoclark/">Autoclark</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../bcgtree/">Bcgtree</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../cardrgi/">Cardrgi</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../closerelatives/">Closerelatives</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../confindr/">Confindr</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../cowsnphr/">Cowsnphr</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../diversitree/">Diversitree</a>
        
    </li>

        
            
    <li class="toctree-l1 current">
        <a class="current" href="./">Drep</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#drep">dRep</a></li>
                
                    <li><a class="toctree-l4" href="#what-does-it-do">What does it do?</a></li>
                
                    <li><a class="toctree-l4" href="#how-do-i-use-it">How do I use it?</a></li>
                
                    <li><a class="toctree-l4" href="#how-long-does-it-take">How long does it take?</a></li>
                
                    <li><a class="toctree-l4" href="#what-can-go-wrong">What can go wrong?</a></li>
                
            
            </ul>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../eCGF/">eCGF</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../ectyper/">Ectyper</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../geneseekr/">Geneseekr</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../intimintyper/">Intimintyper</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../kma/">Kma</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../mashtree/">Mashtree</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../mobsuite/">Mobsuite</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../neartree/">Neartree</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../plasmidborneidentity/">Plasmidborneidentity</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../pointfinder/">Pointfinder</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../primerfinder/">Primerfinder</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../prokka/">Prokka</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../psortb/">Psortb</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../pyseer/">Pyseer</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../resfinder/">Resfinder</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../roary/">Roary</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../sequence_extractor/">Sequence extractor</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../sipprverse/">Sipprverse</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../snvphyl/">Snvphyl</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../staramr/">Staramr</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../strainmash/">Strainmash</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../wgsassembly/">Wgsassembly</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Data</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../data/external_retrieve/">External retrieve</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../data/report_retrieve/">Report retrieve</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../data/sra_upload/">Sra upload</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Tutorials</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../tutorials/create_environment/">Create environment</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../tutorials/create_pages/">Create pages</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../tutorials/edit_pages/">Edit pages</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../tutorials/publish_changes/">Publish changes</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Internal only</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../internal_only/merge/">Merge</a>
        
    </li>

        
    </ul>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">OLC Redmine Automator</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>Analysis &raquo;</li>
        
      
    
    <li>Drep</li>
    <li class="wy-breadcrumbs-aside">
      
        
          <a href="https://github.com/OLC-LOC-Bioinformatics/OLCRedmineAutomator" class="icon icon-github"> Edit on GitHub</a>
        
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="drep">dRep</h1>
<h3 id="what-does-it-do">What does it do?</h3>
<p><a href="https://drep.readthedocs.io/en/latest/overview.html">dRep</a>, developed by Matt Olm, is used to compare genomes and determine relatedness in the form of average nucleotide identity (ANI).
Optionally, it can be used to dreplicate genomes.</p>
<p>For more information, see the <a href="https://www.nature.com/articles/ismej2017126">dRep publication</a>. If you publish data using this automator, don't forget to cite the authors of the tool <a href="https://www.nature.com/articles/ismej2017126">Olm et al., 2017</a></p>
<h3 id="how-do-i-use-it">How do I use it?</h3>
<h4 id="subject">Subject</h4>
<p>In the <code>Subject</code> field, put <code>drep</code>. Spelling counts, but case sensitivity doesn't.</p>
<h4 id="description">Description</h4>
<p><strong>Required Components</strong></p>
<p>The first line of the description should be the analysis you would like to run (e.g. <code>analysis=custom</code>). </p>
<ul>
<li>The following options are currently supported:<ul>
<li><code>custom</code> - compare only the SEQIDs listed in the description</li>
<li><code>enterobacterales</code> - compare the listed SEQIDs to a set of reference sequences for species from the order Enterobacterales</li>
<li><code>listeriaceae</code> - compare the listed SEQIDs to a set of reference sequences for species from the family Listeriaceae</li>
</ul>
</li>
</ul>
<p>You must also include a list of SEQIDs one per line.</p>
<p><strong>Optional Components</strong></p>
<p>By default, dRep will run the compare command to compare the set of genomes. In order to customise your dRep analyses, several settings can be optionally modified</p>
<ul>
<li>
<p>MASH ANI cutoff - this value is important, as only sequences clustering within this 'relatedness' threshold will be analysed using the secondary ANI algorithm (which is what determines the ANI values)</p>
<ul>
<li>default is <code>0.9</code> (90%) </li>
<li>If you want to use custom cutoffs for MASH clustering, add a line to your description:<ul>
<li><code>mash_ANI_threshold=0.8</code></li>
</ul>
</li>
</ul>
</li>
<li>
<p>Secondary clustering cutoff</p>
<ul>
<li>default is <code>0.99</code> (99%) </li>
<li>modify as follows:<ul>
<li><code>S_ANI=0.9</code></li>
</ul>
</li>
</ul>
</li>
<li>
<p>coverage threshold (minimum overlap between genomes when doing secondary comparisons)</p>
<ul>
<li>default is <code>0.1</code> (10%) </li>
<li>modify as follows:<ul>
<li><code>coverage_threshold=0.2</code></li>
</ul>
</li>
</ul>
</li>
<li>
<p>cluster algorithm </p>
<ul>
<li>default is <code>average</code> </li>
<li>modify as follows:<ul>
<li><code>clusteralgorithm=ward</code></li>
</ul>
</li>
<li>available algorithms include:<ul>
<li><code>median</code>, <code>weighted</code>, <code>single</code>, <code>complete</code>, <code>average</code>, <code>ward</code>, <code>centroid</code></li>
</ul>
</li>
</ul>
</li>
<li>
<p>comparison algorithm </p>
<ul>
<li>default is <code>ANImf</code> </li>
<li>modify as follows:<ul>
<li><code>comparisonalgorithm=fastANI</code></li>
</ul>
</li>
<li>available algorithms include:<ul>
<li><code>fastANI</code>, <code>ANImf</code>, <code>ANIn</code>, <code>gANI</code>, <code>goANI</code></li>
</ul>
</li>
</ul>
</li>
<li>
<p>command type (compare genomes for ANI values, or dereplicate, see <a href="https://drep.readthedocs.io/en/latest/overview.html">dRep</a>). <strong>NOTE:currently debugging this option</strong></p>
<ul>
<li>default is <code>compare</code> </li>
<li>modify as follows:<ul>
<li><code>command=dereplicate</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="example">Example</h4>
<h4 id="interpreting-results">Interpreting Results</h4>
<p>dRep will upload a zip file to the ftp on completion. This will contain folders with data in the form of tables, figures, etc. ANI values will only be output for clusters of sequences that are related at or above the MASH ANI cutoff. dRep does not output a tree file, however you should be able to replicate the output MASH tree by hierarchical clustering of the MASH table in R. (Hierarchical clustering uses the cluster algorithm command described above)</p>
<h3 id="how-long-does-it-take">How long does it take?</h3>
<p>This depends largely on the number of strains you want to compare and their relatedness. It can often be as quick as a few minutes
if you have 10 or less strains, or take several hours for more strains. The primary clustering step uses Mash to determine whether sequences are likely related (based on provided cutoff or default 90%). </p>
<p>The secondary analysis which calculates the ANI values is only completed on sets of genomes that have at least 90% Mash ANI (unless this cutoff is modified). These secondary comparisons are slower (more sensitive and accurate for ANI). Therefore, if you have a large number of closely related genomes your job may take longer to complete.</p>
<h3 id="what-can-go-wrong">What can go wrong?</h3>
<p>A few things can go wrong with this process:</p>
<p>1) Requested SEQIDs are not available. If we can't find some of the SEQIDs that you request, you will get a warning
message informing you of it.</p>
<p>2) You did not provide an analysis type. Custom analysis only completes dRep compare for the SEQ-IDs listed, whereas enterobacterales will compare your listed sequences to reference sequences from the order Enterobacterales, and listeriaceae will compare your listed sequences to reference sequences from the family Listeriaceae.</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../eCGF/" class="btn btn-neutral float-right" title="eCGF"/>Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../diversitree/" class="btn btn-neutral" title="Diversitree"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a class="icon icon-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../diversitree/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../eCGF/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>

</body>
</html>
