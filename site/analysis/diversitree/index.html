<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        <link rel="canonical" href="https://olc-bioinformatics.github.io/redmine-docs/analysis/diversitree/">
        <link rel="shortcut icon" href="../../img/favicon.ico">

	<title>Diversitree - OLC Redmine Automator</title>

        <link href="../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../css/font-awesome-4.0.3.css" rel="stylesheet">
        <link rel="stylesheet" href="../../css/highlight.css">
        <link href="../../css/base.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <!-- Main title -->
            <a class="navbar-brand" href="../..">OLC Redmine Automator</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            <!-- Main navigation -->
            <ul class="nav navbar-nav">
            
            
                <li >
                    <a href="../..">Home</a>
                </li>
            
            
            
                <li >
                    <a href="../../getting_started/">Getting started</a>
                </li>
            
            
            
                <li >
                    <a href="../../troubleshooting/">Troubleshooting</a>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Tutorials <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../../tutorials/create_environment/">Create environment</a>
                        </li>
                    
                        <li >
                            <a href="../../tutorials/create_pages/">Create pages</a>
                        </li>
                    
                        <li >
                            <a href="../../tutorials/edit_pages/">Edit pages</a>
                        </li>
                    
                        <li >
                            <a href="../../tutorials/publish_changes/">Publish changes</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Data <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../../data/external_retrieve/">External retrieve</a>
                        </li>
                    
                        <li >
                            <a href="../../data/report_retrieve/">Report retrieve</a>
                        </li>
                    
                        <li >
                            <a href="../../data/sra_upload/">Sra upload</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Internal only <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../../internal_only/merge/">Merge</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown active">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Analysis <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../amrsummary/">Amrsummary</a>
                        </li>
                    
                        <li >
                            <a href="../autoclark/">Autoclark</a>
                        </li>
                    
                        <li >
                            <a href="../closerelatives/">Closerelatives</a>
                        </li>
                    
                        <li >
                            <a href="../confindr/">Confindr</a>
                        </li>
                    
                        <li >
                            <a href="../cowsnphr/">Cowsnphr</a>
                        </li>
                    
                        <li class="active">
                            <a href="./">Diversitree</a>
                        </li>
                    
                        <li >
                            <a href="../eCGF/">eCGF</a>
                        </li>
                    
                        <li >
                            <a href="../ectyper/">Ectyper</a>
                        </li>
                    
                        <li >
                            <a href="../geneseekr/">Geneseekr</a>
                        </li>
                    
                        <li >
                            <a href="../intimintyper/">Intimintyper</a>
                        </li>
                    
                        <li >
                            <a href="../mobsuite/">Mobsuite</a>
                        </li>
                    
                        <li >
                            <a href="../neartree/">Neartree</a>
                        </li>
                    
                        <li >
                            <a href="../plasmidborneidentity/">Plasmidborneidentity</a>
                        </li>
                    
                        <li >
                            <a href="../pointfinder/">Pointfinder</a>
                        </li>
                    
                        <li >
                            <a href="../primerfinder/">Primerfinder</a>
                        </li>
                    
                        <li >
                            <a href="../prokka/">Prokka</a>
                        </li>
                    
                        <li >
                            <a href="../psortb/">Psortb</a>
                        </li>
                    
                        <li >
                            <a href="../resfinder/">Resfinder</a>
                        </li>
                    
                        <li >
                            <a href="../roary/">Roary</a>
                        </li>
                    
                        <li >
                            <a href="../sipprverse/">Sipprverse</a>
                        </li>
                    
                        <li >
                            <a href="../snvphyl/">Snvphyl</a>
                        </li>
                    
                        <li >
                            <a href="../staramr/">Staramr</a>
                        </li>
                    
                        <li >
                            <a href="../strainmash/">Strainmash</a>
                        </li>
                    
                        <li >
                            <a href="../wgsassembly/">Wgsassembly</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            </ul>

            <!-- Search, Navigation and Repo links -->
            <ul class="nav navbar-nav navbar-right">
                <li >
                    <a rel="next" href="../cowsnphr/">
                        <i class="fa fa-arrow-left"></i> Previous
                    </a>
                </li>
                <li >
                    <a rel="prev" href="../eCGF/">
                        Next <i class="fa fa-arrow-right"></i>
                    </a>
                </li>
                
            </ul>
        </div>
    </div>
</div>

        <div class="container">
            <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#diversitree">DiversiTree</a></li>
        
            <li><a href="#what-does-it-do">What does it do?</a></li>
        
            <li><a href="#how-do-i-use-it">How do I use it?</a></li>
        
            <li><a href="#how-long-does-it-take">How long does it take?</a></li>
        
            <li><a href="#what-can-go-wrong">What can go wrong?</a></li>
        
    
    </ul>
</div></div>
            <div class="col-md-9" role="main">

<h1 id="diversitree">DiversiTree</h1>
<h3 id="what-does-it-do">What does it do?</h3>
<p>DiversiTree is used for creating phylogenetic trees using <a href="http://harvest.readthedocs.io/en/latest/content/parsnp.html">parsnp</a>,
and optionally finding a specified number of strains that represent the most genetic diversity.</p>
<h3 id="how-do-i-use-it">How do I use it?</h3>
<h4 id="subject">Subject</h4>
<p>In the <code>Subject</code> field, put <code>DiversiTree</code>. Spelling counts, but case sensitivity doesn't.</p>
<h4 id="description">Description</h4>
<p>The first line of the description should be the number of diverse strains you want picked. If all you want here is the
tree and don't care about the number of strains, you can set this to 1. Subsequent lines should be the SEQIDs you want
to create the tree from. Note that these strains should all be fairly closely related, or the tree creation may fail (so
try to keep things to the same species).</p>
<p>By default, DiversiTree uses a tree creation program called <code>parsnp</code>. Another option available is <code>mashtree</code>, which is 
generally faster at making trees and can handle more diversity between samples, but may create less accurate
trees. If you want to use <code>mashtree</code>, add a line at the end of your description that says <code>treeprogram=mashtree</code>. You can
look at <a href="https://redmine.biodiversity.agr.gc.ca/issues/14724">issue 14724</a> for an example request that 
uses <code>mashtree</code>.</p>
<h4 id="example">Example</h4>
<p>For an example DiversiTree, see <a href="https://redmine.biodiversity.agr.gc.ca/issues/12100">issue 12100</a>.</p>
<h4 id="interpreting-results">Interpreting Results</h4>
<p>DiversiTree will upload two files to Redmine on completion: <code>diversitree_report.html</code>, and <code>tree.nwk</code>. The <code>diversitree.html</code> 
can be opened in any web browser, and has a picture of the tree with selected strains highlighted, and a list of the
<em>X</em> most diverse strains, where <em>X</em> is the number specified in the first line of the description. The <code>tree.nwk</code> file
contains the phylogenetic tree created in newick format. If you want to view this tree, you can use a program such as
<a href="http://tree.bio.ed.ac.uk/software/figtree/">FigTree</a> or a web-based viewer like <a href="http://phylo.io">phylo.io</a>.</p>
<h3 id="how-long-does-it-take">How long does it take?</h3>
<p>This depends largely on the number of strains you want to use to create the tree. It can often be as quick as a few minutes
if you have 10 or less strains, or take several hours if you want a larger (100 or so strain) tree.</p>
<h3 id="what-can-go-wrong">What can go wrong?</h3>
<p>A few things can go wrong with this process:</p>
<p>1) Requested SEQIDs are not available. If we can't find some of the SEQIDs that you request, you will get a warning
message informing you of it.</p>
<p>2) Strains too far apart. DiversiTree will warn you if it thinks that the strains you want to make a tree from are
not closely related enough. If you get this warning, you may want to consider creating a new issue while leaving out
the strains it says are too far, or use <code>mashtree</code> as your tree creation program.</p></div>
        </div>

        <footer class="col-md-12">
            <hr>
            
            <center>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</center>
        </footer>

        <script src="../../js/jquery-1.10.2.min.js"></script>
        <script src="../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../js/highlight.pack.js"></script>
        <script src="../../js/base.js"></script>
    </body>
</html>