<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        <link rel="canonical" href="https://olc-bioinformatics.github.io/redmine-docs/analysis/snvphyl/">
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>SNVPhyl - OLC Redmine Automator</title>
        <link href="../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/docco.min.css">

        <script src="../../js/jquery-1.10.2.min.js" defer></script>
        <script src="../../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../..">OLC Redmine Automator</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href="../.." class="nav-link">Home</a>
                            </li>
                            <li class="navitem">
                                <a href="../../getting_started/" class="nav-link">Getting Started</a>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Data <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../data/external_retrieve/" class="dropdown-item">External Retrieve</a>
</li>
                                    
<li>
    <a href="../../data/report_retrieve/" class="dropdown-item">Report Retrieve</a>
</li>
                                    
<li>
    <a href="../../data/sra_upload/" class="dropdown-item">SRA Upload</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown active">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Analysis <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../amrsummary/" class="dropdown-item">AMRsummary</a>
</li>
                                    
<li>
    <a href="../autoclark/" class="dropdown-item">AutoCLARK</a>
</li>
                                    
<li>
    <a href="../confindr/" class="dropdown-item">ConFindr</a>
</li>
                                    
<li>
    <a href="../cowsnphr/" class="dropdown-item">COWSNPhR</a>
</li>
                                    
<li>
    <a href="../closerelatives/" class="dropdown-item">CloseRelatives</a>
</li>
                                    
<li>
    <a href="../eCGF/" class="dropdown-item">eCGF</a>
</li>
                                    
<li>
    <a href="../ectyper/" class="dropdown-item">ECTyper</a>
</li>
                                    
<li>
    <a href="../diversitree/" class="dropdown-item">DiversiTree</a>
</li>
                                    
<li>
    <a href="../geneseekr/" class="dropdown-item">GeneSeekr</a>
</li>
                                    
<li>
    <a href="../intimintyper/" class="dropdown-item">IntiminTyper</a>
</li>
                                    
<li>
    <a href="../mobsuite/" class="dropdown-item">MobSuite</a>
</li>
                                    
<li>
    <a href="../neartree/" class="dropdown-item">NearTree</a>
</li>
                                    
<li>
    <a href="../plasmidborneidentity/" class="dropdown-item">PlasmidBorneIdentity</a>
</li>
                                    
<li>
    <a href="../pointfinder/" class="dropdown-item">PointFinder</a>
</li>
                                    
<li>
    <a href="../primerfinder/" class="dropdown-item">PrimerFinder</a>
</li>
                                    
<li>
    <a href="../prokka/" class="dropdown-item">Prokka</a>
</li>
                                    
<li>
    <a href="../psortb/" class="dropdown-item">PSORTb</a>
</li>
                                    
<li>
    <a href="../resfinder/" class="dropdown-item">ResFinder</a>
</li>
                                    
<li>
    <a href="../roary/" class="dropdown-item">Roary</a>
</li>
                                    
<li>
    <a href="../sipprverse/" class="dropdown-item">sipprverse</a>
</li>
                                    
<li>
    <a href="./" class="dropdown-item active">SNVPhyl</a>
</li>
                                    
<li>
    <a href="../staramr/" class="dropdown-item">staramr</a>
</li>
                                    
<li>
    <a href="../strainmash/" class="dropdown-item">StrainMash</a>
</li>
                                    
<li>
    <a href="../wgsassembly/" class="dropdown-item">WGS Assembly</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Internal Use <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../internal_only/merge/" class="dropdown-item">Merge</a>
</li>
                                </ul>
                            </li>
                            <li class="navitem">
                                <a href="../../troubleshooting/" class="nav-link">Troubleshooting</a>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Tutorials <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../tutorials/create_environment/" class="dropdown-item">Create Environment</a>
</li>
                                    
<li>
    <a href="../../tutorials/create_pages/" class="dropdown-item">Create Pages</a>
</li>
                                    
<li>
    <a href="../../tutorials/edit_pages/" class="dropdown-item">Edit Pages</a>
</li>
                                    
<li>
    <a href="../../tutorials/publish_changes/" class="dropdown-item">Publish Changes</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../sipprverse/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../staramr/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="1"><a href="#snvphyl" class="nav-link">SNVPhyl</a>
              <ul class="nav flex-column">
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="snvphyl">SNVPhyl</h1>
<h3 id="what-does-it-do">What does it do?</h3>
<p>SNVPhyl is a pipeline developed by the Public Health Agency of Canada for evaluating the number of SNPs between a
reference strain and other closely related strains. It also builds a phylogenetic tree to attempt to show the
relatedness of these strains. Lots more info can be found at the <a href="https://snvphyl.readthedocs.io/en/latest/">SNVPhyl readthedocs site</a>.</p>
<h3 id="how-do-i-use-it">How do I use it?</h3>
<h4 id="subject">Subject</h4>
<p>In the <code>Subject</code> field, put <code>SNVPhyl</code>. Spelling counts, but case sensitivity doesn't.</p>
<h4 id="description">Description</h4>
<p>The first line of your description needs to be <code>reference</code>, and the second line the SEQID of the strain you want to act
as your reference strain. Ideally, you'll want to pick a high-quality assembly for your reference.</p>
<p>If you wish to attach a reference file instead of providing a SEQID, the second line must be <code>attached</code></p>
<p>The third line of your description should be <code>compare</code>, and lines after that the SEQIDs for strains you want to compare
your reference to.</p>
<h4 id="example">Example</h4>
<p>For an example SNVPhyl, see <a href="https://redmine.biodiversity.agr.gc.ca/issues/12494">issue 12494</a>.</p>
<h4 id="interpreting-results">Interpreting Results</h4>
<p>The zip file uploaded on SNVPhyl completion should contain 10 files. Important files are:</p>
<ul>
<li>snvMatrix.tsv: Shows the number of SNVs between every strain submitted.</li>
<li>vcf2core.tsv: Shows how much of the genome was covered by the analysis (look at the <code>Percentage of all positions that are valid, included, and part of the core genome</code>
column in the <code>all</code> row). This should be at least 90 percent, or the strains you were comparing were probably too far apart
to get good results.</li>
<li>phylogeneticTree.nwk: The phylogenetic tree created by SNVPhyl. If you want to view this tree, you can use a program such as
<a href="http://tree.bio.ed.ac.uk/software/figtree/">FigTree</a> or a web-based viewer like <a href="http://phylo.io">phylo.io</a>.</li>
</ul>
<p>Other files can also be important - see the <a href="https://snvphyl.readthedocs.io/en/latest/user/output/">docs on SNVPhyl Output files</a>
for more information.</p>
<h3 id="how-long-does-it-take">How long does it take?</h3>
<p>Most SNVPhyl requests take ~1 hour to complete. If you submit a request for a larger SNVPhyl (&gt;30 strains), it may take
substantially longer.</p>
<h3 id="what-can-go-wrong">What can go wrong?</h3>
<p>A few things can go wrong with this process:</p>
<p>1) Requested SEQIDs are not available. If we can't find some of the SEQIDs that you request, you will get a warning
message informing you of it.</p>
<p>2) Strains too far apart. SNVPhyl requires that the strains you want to compare to the reference be closely related to
the reference. If you ask for a SNVPhyl with things that are not very related, you will get a warning telling you so.</p>
<p>3) No output files. Sometimes, SNVPhyl will say it has completed, but the typical output files will not be present. This
is either because <em>a)</em> there are no SNVs between the two strains, and so SNVPhyl crashes or <em>b)</em> SNVPhyl crashed for an
unknown reason, which does happen occasionally. If this happens, your best bet is to try running the SNVPhyl again. If
SNVPhyl keeps crashing even after subsequent attempts, let us know and we'll do our best to fix things.</p></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../js/base.js" defer></script>
        <script src="../../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
