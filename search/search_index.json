{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"OLC Redmine Automator To facilitate the sharing of the CFIA's genomic data and tools to analyze this data, we make use of the Redmine platform. Our instance of Redmine can be found here (note that you must be on the CFIA network in order to access Redmine). If you have not yet gotten started with Redmine or want to know how the Redmine automator works and what it can do, take a look at our Getting Started page for instructions on how to start using Redmine and a brief overview of what Redmine can do. For any issues or general help with Redmine, see the Troubleshooting page.","title":"Home"},{"location":"#olc-redmine-automator","text":"To facilitate the sharing of the CFIA's genomic data and tools to analyze this data, we make use of the Redmine platform. Our instance of Redmine can be found here (note that you must be on the CFIA network in order to access Redmine). If you have not yet gotten started with Redmine or want to know how the Redmine automator works and what it can do, take a look at our Getting Started page for instructions on how to start using Redmine and a brief overview of what Redmine can do. For any issues or general help with Redmine, see the Troubleshooting page.","title":"OLC Redmine Automator"},{"location":"getting_started/","text":"What is Redmine, and what can I use it for? Redmine is a system for project management and issue tracking that OLC has configured to automate a number of bioinformatics tasks. With Redmine, you can retrieve genomic data (either raw reads or draft assemblies) that is stored at OLC to perform your own analysis locally, look for antibiotic resistance genes or find plasmids in assemblies, create phylogenetic trees , compare strains against RefSeq , and more. If a tool you need is not currently available, we are generally able to add tools on request. Accessing Redmine To access Redmine, go to https://redmine.biodiversity.agr.gc.ca (note that you must be on the CFIA/Agriculture Canada network). Once there, login with your corporate username and password. If this is your first time using Redmine, you will need to be added to the CFIA Genomics project. To get access, send an email to andrew.low@canada.ca , with adam.koziol@canada.ca CC'd and say you need access to the OLC Genomics project. Once you have been added to the project, head to the project page . This is where you will be able to create requests. Changing Email Settings By default, Redmine likes to send you emails about literally every issue that anybody reports, which can lead to receiving far more emails than anybody has ever wanted to receive. To change this, click on the My Account button (found in the top right corner when logged in to Redmine) and change the dropdown for email notifications from For any event on all my projects to something else - I recommend Only for things I watch or I'm involved in . Once that's done, hit the Save button on the bottom left of the screen to make sure Redmine remembers your email preferences. Creating Issues Everything in Redmine is done by creating Issues - these are requests for an analysis to be done. To create a new issue, click on the New Issue button, as shown in the below screenshot. `Click to see screenshot` ![Screenshot](img/Redmine_Overview.png) The page for new issues can be seen in the next screenshot. To have your analyses done, specific keywords are put in the Subject header, with any necessary details put in the Description section. Details on what exactly needs to be put into each section are under the Data and Analysis tabs for specific tools. Once an issue has been filled out, click on the Create button. Once that's done you can sit back and relax - you'll receive emails when your request has been submitted to our compute cluster (which should happen within a minute or two from the time you submitted your issue), and another once your job has completed (which, depending on the request, can be anywhere from a few minutes to a few hours). `Click to see screenshot` ![Screenshot](img/New_Issue.png)","title":"Getting Started"},{"location":"getting_started/#what-is-redmine-and-what-can-i-use-it-for","text":"Redmine is a system for project management and issue tracking that OLC has configured to automate a number of bioinformatics tasks. With Redmine, you can retrieve genomic data (either raw reads or draft assemblies) that is stored at OLC to perform your own analysis locally, look for antibiotic resistance genes or find plasmids in assemblies, create phylogenetic trees , compare strains against RefSeq , and more. If a tool you need is not currently available, we are generally able to add tools on request.","title":"What is Redmine, and what can I use it for?"},{"location":"getting_started/#accessing-redmine","text":"To access Redmine, go to https://redmine.biodiversity.agr.gc.ca (note that you must be on the CFIA/Agriculture Canada network). Once there, login with your corporate username and password. If this is your first time using Redmine, you will need to be added to the CFIA Genomics project. To get access, send an email to andrew.low@canada.ca , with adam.koziol@canada.ca CC'd and say you need access to the OLC Genomics project. Once you have been added to the project, head to the project page . This is where you will be able to create requests.","title":"Accessing Redmine"},{"location":"getting_started/#changing-email-settings","text":"By default, Redmine likes to send you emails about literally every issue that anybody reports, which can lead to receiving far more emails than anybody has ever wanted to receive. To change this, click on the My Account button (found in the top right corner when logged in to Redmine) and change the dropdown for email notifications from For any event on all my projects to something else - I recommend Only for things I watch or I'm involved in . Once that's done, hit the Save button on the bottom left of the screen to make sure Redmine remembers your email preferences.","title":"Changing Email Settings"},{"location":"getting_started/#creating-issues","text":"Everything in Redmine is done by creating Issues - these are requests for an analysis to be done. To create a new issue, click on the New Issue button, as shown in the below screenshot. `Click to see screenshot` ![Screenshot](img/Redmine_Overview.png) The page for new issues can be seen in the next screenshot. To have your analyses done, specific keywords are put in the Subject header, with any necessary details put in the Description section. Details on what exactly needs to be put into each section are under the Data and Analysis tabs for specific tools. Once an issue has been filled out, click on the Create button. Once that's done you can sit back and relax - you'll receive emails when your request has been submitted to our compute cluster (which should happen within a minute or two from the time you submitted your issue), and another once your job has completed (which, depending on the request, can be anywhere from a few minutes to a few hours). `Click to see screenshot` ![Screenshot](img/New_Issue.png)","title":"Creating Issues"},{"location":"troubleshooting/","text":"Troubleshooting Error Messages If you get error messages that aren't covered by the descriptions of the tools available, please let us know by sending us an email. Why are things taking so long? Our compute cluster does run into situations where all available resources are being used. If that's the case, your job will wait in queue until compute resources are freed up. This should be a fairly rare occurrence, but it does happen. Contact Info If you're having issues or want a new tool implemented, email us! For quickest response times, email Andrew with Adam CC'd. Andrew Low: andrew.low@canada.ca Adam Koziol: adam.koziol@canada.ca","title":"Troubleshooting"},{"location":"troubleshooting/#troubleshooting","text":"","title":"Troubleshooting"},{"location":"troubleshooting/#error-messages","text":"If you get error messages that aren't covered by the descriptions of the tools available, please let us know by sending us an email.","title":"Error Messages"},{"location":"troubleshooting/#why-are-things-taking-so-long","text":"Our compute cluster does run into situations where all available resources are being used. If that's the case, your job will wait in queue until compute resources are freed up. This should be a fairly rare occurrence, but it does happen.","title":"Why are things taking so long?"},{"location":"troubleshooting/#contact-info","text":"If you're having issues or want a new tool implemented, email us! For quickest response times, email Andrew with Adam CC'd. Andrew Low: andrew.low@canada.ca Adam Koziol: adam.koziol@canada.ca","title":"Contact Info"},{"location":"analysis/amrsummary/","text":"AMRsummary What does it do? AMRsummary performs ResFinder and MOB-suite analyses on FASTA files, and creates a report combining and summarising the outputs. ResFinder is a program developed by the Danish Center for Genomic Epidemiology for detection of antibiotic resistance in draft genome assemblies. It is very important to note that the Redmine version will only look for acquired antibiotic resistance genes (generally plasmid-borne) and not chromosomally encoded AMR genes that are caused by point mutations. MobSuite is a set of tools developed by the Public Health Agency of Canada for detecting plasmids in draft genome assemblies. This tool runs the mob_recon part of the suite, which first detects plasmids in the assemblies, and then performs typing on the plasmids. More details on MobSuite, including fairly extensive details on the output files produced, can be found at the MobSuite GitHub repository ). How do I use it? Subject In the Subject field, put amr summary . Spelling counts, but case sensitivity doesn't. Description All you need to put in the description is a list of SEQIDs you want to process, one per line. Example For an example AMRsummary, see issue 14100 . Interpreting Results AMRSummary will upload three separate reports once it is complete resfinder_blastn.xlsx shows every AMR gene found in each sample. Just because a gene/resistance is listed here does not necessarily mean the strain carries that resistance - it's important to look at the PercentIdentity and PercentCovered columns. You can be pretty sure that anything with 100 for both is actually there, but anything else requires further analysis to be sure. mob_recon_summary.csv shows any contigs that are predicted to be plasmids - note that all contigs calculated to be chromosomal are ignored. Location is the name of the predicted plasmid, while Contig is the name contig predicted to contain plasmid sequence. One plasmid can be composed of several contigs if it could not be circularised. amr_summary.csv combines the two previous reports. The contigs of all predicted AMR genes from the resfinder_assembled report are used to search the mob_recon_summary report. The plasmid predictions, and well as all the incompatibility types for that plasmid are extracted, and used in the report. Location will specify either chromosome or the name of the predicted plasmid. How long does it take? ResFinder is very fast, while MOB-suite is relatively slow - it should take a few minutes to analyze each SEQID requested. What can go wrong? Requested SEQIDs are not available. If we can't find some of the SEQIDs that you request, you will get a warning message informing you of it.","title":"AMRsummary"},{"location":"analysis/amrsummary/#amrsummary","text":"","title":"AMRsummary"},{"location":"analysis/amrsummary/#what-does-it-do","text":"AMRsummary performs ResFinder and MOB-suite analyses on FASTA files, and creates a report combining and summarising the outputs. ResFinder is a program developed by the Danish Center for Genomic Epidemiology for detection of antibiotic resistance in draft genome assemblies. It is very important to note that the Redmine version will only look for acquired antibiotic resistance genes (generally plasmid-borne) and not chromosomally encoded AMR genes that are caused by point mutations. MobSuite is a set of tools developed by the Public Health Agency of Canada for detecting plasmids in draft genome assemblies. This tool runs the mob_recon part of the suite, which first detects plasmids in the assemblies, and then performs typing on the plasmids. More details on MobSuite, including fairly extensive details on the output files produced, can be found at the MobSuite GitHub repository ).","title":"What does it do?"},{"location":"analysis/amrsummary/#how-do-i-use-it","text":"","title":"How do I use it?"},{"location":"analysis/amrsummary/#subject","text":"In the Subject field, put amr summary . Spelling counts, but case sensitivity doesn't.","title":"Subject"},{"location":"analysis/amrsummary/#description","text":"All you need to put in the description is a list of SEQIDs you want to process, one per line.","title":"Description"},{"location":"analysis/amrsummary/#example","text":"For an example AMRsummary, see issue 14100 .","title":"Example"},{"location":"analysis/amrsummary/#interpreting-results","text":"AMRSummary will upload three separate reports once it is complete resfinder_blastn.xlsx shows every AMR gene found in each sample. Just because a gene/resistance is listed here does not necessarily mean the strain carries that resistance - it's important to look at the PercentIdentity and PercentCovered columns. You can be pretty sure that anything with 100 for both is actually there, but anything else requires further analysis to be sure. mob_recon_summary.csv shows any contigs that are predicted to be plasmids - note that all contigs calculated to be chromosomal are ignored. Location is the name of the predicted plasmid, while Contig is the name contig predicted to contain plasmid sequence. One plasmid can be composed of several contigs if it could not be circularised. amr_summary.csv combines the two previous reports. The contigs of all predicted AMR genes from the resfinder_assembled report are used to search the mob_recon_summary report. The plasmid predictions, and well as all the incompatibility types for that plasmid are extracted, and used in the report. Location will specify either chromosome or the name of the predicted plasmid.","title":"Interpreting Results"},{"location":"analysis/amrsummary/#how-long-does-it-take","text":"ResFinder is very fast, while MOB-suite is relatively slow - it should take a few minutes to analyze each SEQID requested.","title":"How long does it take?"},{"location":"analysis/amrsummary/#what-can-go-wrong","text":"Requested SEQIDs are not available. If we can't find some of the SEQIDs that you request, you will get a warning message informing you of it.","title":"What can go wrong?"},{"location":"analysis/autoclark/","text":"AutoCLARK What does it do? This process runs CLARK, a metagenomics tool, to determine what species are present in a sample. This is useful if you are unsure what species your sample is, or to check to see if any cross-species contamination occurred (or, obviously, if you have a shotgun metagenomics sample). Lots of detail on CLARK is provided at the CLARK website . How do I use it? Subject In the Subject field, put AutoCLARK . Spelling counts, but case sensitivity doesn't. Description In the Description field first specify if you want CLARK to look at raw reads or draft assemblies for species determination. For reads, the first line of your description should be fastq , and for assemblies it should be fasta . Subsequent lines should be the SEQIDs you want CLARK to be looking at. Example For an example AutoCLARK, see issue 12819 . Interpreting Results Once CLARK is complete, a file called abundance.xlsx will be uploaded to Redmine. This file shows the species present for each strain in the request. These results should be interpreted with caution - species that show up with low proportions (less than 1-2 percent) are often not actually there and are just artifacts of the analysis. How long does it take? CLARK will usually take 10 to 15 minutes to run, though it may take substantially longer if you requested that a large number of SEQIDs be analyzed. What can go wrong? 1) Requested SEQIDs are not available. If we can't find some of the SEQIDs that you request, you will get a warning message informing you of it.","title":"AutoCLARK"},{"location":"analysis/autoclark/#autoclark","text":"","title":"AutoCLARK"},{"location":"analysis/autoclark/#what-does-it-do","text":"This process runs CLARK, a metagenomics tool, to determine what species are present in a sample. This is useful if you are unsure what species your sample is, or to check to see if any cross-species contamination occurred (or, obviously, if you have a shotgun metagenomics sample). Lots of detail on CLARK is provided at the CLARK website .","title":"What does it do?"},{"location":"analysis/autoclark/#how-do-i-use-it","text":"","title":"How do I use it?"},{"location":"analysis/autoclark/#subject","text":"In the Subject field, put AutoCLARK . Spelling counts, but case sensitivity doesn't.","title":"Subject"},{"location":"analysis/autoclark/#description","text":"In the Description field first specify if you want CLARK to look at raw reads or draft assemblies for species determination. For reads, the first line of your description should be fastq , and for assemblies it should be fasta . Subsequent lines should be the SEQIDs you want CLARK to be looking at.","title":"Description"},{"location":"analysis/autoclark/#example","text":"For an example AutoCLARK, see issue 12819 .","title":"Example"},{"location":"analysis/autoclark/#interpreting-results","text":"Once CLARK is complete, a file called abundance.xlsx will be uploaded to Redmine. This file shows the species present for each strain in the request. These results should be interpreted with caution - species that show up with low proportions (less than 1-2 percent) are often not actually there and are just artifacts of the analysis.","title":"Interpreting Results"},{"location":"analysis/autoclark/#how-long-does-it-take","text":"CLARK will usually take 10 to 15 minutes to run, though it may take substantially longer if you requested that a large number of SEQIDs be analyzed.","title":"How long does it take?"},{"location":"analysis/autoclark/#what-can-go-wrong","text":"1) Requested SEQIDs are not available. If we can't find some of the SEQIDs that you request, you will get a warning message informing you of it.","title":"What can go wrong?"},{"location":"analysis/bcgtree/","text":"bcgTree What does it do? bcgTree is a an automated phylogenetic tree building pipeline that builds trees from bacterial core genomes. The pipeline \"automatically extracts 107 essential single-copy core genes, found in a majority of bacteria\" (these genes were statistically determined, see bcgTree publication ). It then uses hidden Markov models and performs a partitioned maximum-likelihood analysis. If you want to learn more about it, check out the bcgTree publication . Dont forget to cite Ankenbrand and Keller, 2016! How do I use it? Subject In the Subject field, put bcgtree . Spelling counts, but case sensitivity doesnt. Description Required Components In the Description field, you must include a list of SEQIDs one per line. Optional Components In order to customise your bcgTree analysis, several settings can be optionally modified. If you would like to change the number of bootstraps performed, add the following line to the description before the list of SEQIDs: default is 100 modify as follows: bootstraps=1000 If you would like to change the minimum number of proteomes in which a gene must occur in order to be kept: default is 2 modify as follows: min_proteomes=5 If you would like to change the amino acid substitution model used for the partitions by RAxML: default is AUTO modify as follows: aa_substitution_model=GTR you can select one of the following amino acid substitution models to use: AUTO, DAYHOFF, DCMUT, JTT, MTREV, WAG,RTREV, CPREV, VT, BLOSUM62, MTMAM, LG, MTART, MTZOA, PMB, HIVB,HIVW, JTTDCMUT, FLU, STMTREV, DUMMY, DUMMY2, LG4M, LG4X, PROT_FILE, GTR_UNLINKED, GTR Example For an example bcgtree issue see issue 25083 . NOTE : the output files for these issues no longer exist on the ftp server. Interpreting Results The bcgTree automator will upload links to the ftp for files called prokka_output.zip and bcgtree_output.zip once it has completed. The prokka_output.zip contains all of the outputs from prokka. Prokka will output a lot of files for each genome you give it - you can find a quick description of each file here . Of particular interest are the .faa files, which bcgTree uses for analysis. The bcgtree_output.zip file contains all of the outputs from bcgTree. The alignment files, and gene-id files output by bcgtree can be found in subfolders in the zip file. The most interesting outputs from bcgtree are the RAxML files. These files conaint the phylogenetic trees output by bcgTree: RAxML_bestTree.final RAxML_bipartitionsBranchLabels.final RAxML_bipartitions.final RAxML_bootstrap.final These files can be opened using a phylogenetic tree viewer of your choice. There will also be the config.txt file containing the command(s) passed to bcgTree, as well as a bcgtree.log file containing all of the executed commands and their output(s) (including the random seed values used by RAxML). How long does it take? Prokka isnt the quickest thing around - expect it to take 2 to 3 minutes for each genome you give it. After prokka is finished the bcgTree pipeline time will depend on the number of sequences and bootstraps requested. What can go wrong? Requested SEQIDs are not available. If we cant find some of the SEQIDs that you request, you will get a warning message informing you of it. There was an issue with the requested amino acid substitution model: there was a typo, or you requested a currently-unsupported substitution model. An error message detailing the problem will be added to the issue.","title":"bcgTree"},{"location":"analysis/bcgtree/#bcgtree","text":"","title":"bcgTree"},{"location":"analysis/bcgtree/#what-does-it-do","text":"bcgTree is a an automated phylogenetic tree building pipeline that builds trees from bacterial core genomes. The pipeline \"automatically extracts 107 essential single-copy core genes, found in a majority of bacteria\" (these genes were statistically determined, see bcgTree publication ). It then uses hidden Markov models and performs a partitioned maximum-likelihood analysis. If you want to learn more about it, check out the bcgTree publication . Dont forget to cite Ankenbrand and Keller, 2016!","title":"What does it do?"},{"location":"analysis/bcgtree/#how-do-i-use-it","text":"","title":"How do I use it?"},{"location":"analysis/bcgtree/#subject","text":"In the Subject field, put bcgtree . Spelling counts, but case sensitivity doesnt.","title":"Subject"},{"location":"analysis/bcgtree/#description","text":"Required Components In the Description field, you must include a list of SEQIDs one per line. Optional Components In order to customise your bcgTree analysis, several settings can be optionally modified. If you would like to change the number of bootstraps performed, add the following line to the description before the list of SEQIDs: default is 100 modify as follows: bootstraps=1000 If you would like to change the minimum number of proteomes in which a gene must occur in order to be kept: default is 2 modify as follows: min_proteomes=5 If you would like to change the amino acid substitution model used for the partitions by RAxML: default is AUTO modify as follows: aa_substitution_model=GTR you can select one of the following amino acid substitution models to use: AUTO, DAYHOFF, DCMUT, JTT, MTREV, WAG,RTREV, CPREV, VT, BLOSUM62, MTMAM, LG, MTART, MTZOA, PMB, HIVB,HIVW, JTTDCMUT, FLU, STMTREV, DUMMY, DUMMY2, LG4M, LG4X, PROT_FILE, GTR_UNLINKED, GTR","title":"Description"},{"location":"analysis/bcgtree/#example","text":"For an example bcgtree issue see issue 25083 . NOTE : the output files for these issues no longer exist on the ftp server.","title":"Example"},{"location":"analysis/bcgtree/#interpreting-results","text":"The bcgTree automator will upload links to the ftp for files called prokka_output.zip and bcgtree_output.zip once it has completed. The prokka_output.zip contains all of the outputs from prokka. Prokka will output a lot of files for each genome you give it - you can find a quick description of each file here . Of particular interest are the .faa files, which bcgTree uses for analysis. The bcgtree_output.zip file contains all of the outputs from bcgTree. The alignment files, and gene-id files output by bcgtree can be found in subfolders in the zip file. The most interesting outputs from bcgtree are the RAxML files. These files conaint the phylogenetic trees output by bcgTree: RAxML_bestTree.final RAxML_bipartitionsBranchLabels.final RAxML_bipartitions.final RAxML_bootstrap.final These files can be opened using a phylogenetic tree viewer of your choice. There will also be the config.txt file containing the command(s) passed to bcgTree, as well as a bcgtree.log file containing all of the executed commands and their output(s) (including the random seed values used by RAxML).","title":"Interpreting Results"},{"location":"analysis/bcgtree/#how-long-does-it-take","text":"Prokka isnt the quickest thing around - expect it to take 2 to 3 minutes for each genome you give it. After prokka is finished the bcgTree pipeline time will depend on the number of sequences and bootstraps requested.","title":"How long does it take?"},{"location":"analysis/bcgtree/#what-can-go-wrong","text":"Requested SEQIDs are not available. If we cant find some of the SEQIDs that you request, you will get a warning message informing you of it. There was an issue with the requested amino acid substitution model: there was a typo, or you requested a currently-unsupported substitution model. An error message detailing the problem will be added to the issue.","title":"What can go wrong?"},{"location":"analysis/cardrgi/","text":"CARD-RGI What does it do? CARD-RGI (Comprehensive Antibiotic Resistance Database - Resistance Gene Identifier) is a program developed by the McMaster University to predict resistomes in draft genome assemblies. CARD website For more information, see the CARD publication . If you publish data using this automator, don't forget to cite the authors of the tool Alcock et al., 2020 How do I use it? Subject In the Subject field, put CARDRGI . Spelling counts, but case sensitivity doesn't. Description Required Components The first line of the description should be the analysis you would like to run (e.g. analysis=isolate ). This will depend on the type of sequence data your are investigating. The following options are currently supported: isolate - used for resistome analysis of bacterial isolate sequence assemblies metagenome - used for resistome analysis of metagenome fastq-files. (This option can also be used to 'force' the tool to complete resistome analysis of isolate fastq-files). Currently, this metagenome redmine automator uses KMA for alignment of gene targets to the raw-read data. If you would like to try the other options (BWA or bowtie2), you can download the stand-alone tool from the CARD github . You must also include a list of SEQIDs one per line. Optional Components By default, CARD-RGI will run the analysis for isolate assemblies. In order to customise your CARD-RGI analyses, two additional settings can be optionally modified: loosehits - the default analysis will only include strict and perfect resistance gene matches. Setting this to true will also include 'loose' hits, which may or may not be contributing to resistance. default is False If you want to include loose hits, add a line to your description: loosehits=TRUE partialgenes - the default analysis will only include full gene matches. default is False If you want to include partial gene hits, add a line to your description: partialgenes=TRUE Example For an example using CARDRGI, see issue 28111 . The zip file has been attached to this request as an example (the ftp links expire after approx. 2 weeks). Please note that 2017-SEQ-0054 is an isolate sequence, not actually a metagenome. Interpreting Results CARD-RGI will upload a zipped folder called card-rgi_output_redmineID.zip to the ftp once it has completed. Isolate Analysis This folder will contain a CARDRGI_output.csv csv file which shows every AMR gene found in each sample-sequence. Just because a gene/resistance is listed here does not necessarily mean the strain carries that resistance - it's important to look at the Best_Identities column, which contains the percent identity of the gene/target match to the top hit in CARD. You can be pretty sure that anything with 100 is actually there, but anything else requires further analysis to be sure. Also, some efflux and point-mutations may confer resistance in specific genera/species but not others, so it is important to consider this before coming to any conclusions even if they are a 100% match. Information about the output table can be found on the CARD-RGI github page under RGI main Tab-Delimited Output Details . The isolate analysis will also output individual results files for each sequence, and a RGI-heatmap file including information about all of the isolate sequences in your analysis. Metagenome Analysis The zip folder will contain individual output files for each sequence analysed. It will also include CARDRGI_gene_mapping_output.csv and CARDRGI_allele_mapping_output.csv files. These contain the CARD-results of all resistance genes found in the raw fastq data for each sample-sequence. The CARDRGI_allele_mapping_output.csv allele file will include the data for the top allele hits for each sequence. How long does it take? CARD-RGI is pretty fast, however the time required for analysis will depend on the analysis type and number of sequences requested. Expect approximately 2-5 minutes per sequence. What can go wrong? 1) Requested SEQIDs are not available. If we can't find some of the SEQIDs that you request, you will get a warning message informing you of it.","title":"CARD-RGI (AMR)"},{"location":"analysis/cardrgi/#card-rgi","text":"","title":"CARD-RGI"},{"location":"analysis/cardrgi/#what-does-it-do","text":"CARD-RGI (Comprehensive Antibiotic Resistance Database - Resistance Gene Identifier) is a program developed by the McMaster University to predict resistomes in draft genome assemblies. CARD website For more information, see the CARD publication . If you publish data using this automator, don't forget to cite the authors of the tool Alcock et al., 2020","title":"What does it do?"},{"location":"analysis/cardrgi/#how-do-i-use-it","text":"","title":"How do I use it?"},{"location":"analysis/cardrgi/#subject","text":"In the Subject field, put CARDRGI . Spelling counts, but case sensitivity doesn't.","title":"Subject"},{"location":"analysis/cardrgi/#description","text":"Required Components The first line of the description should be the analysis you would like to run (e.g. analysis=isolate ). This will depend on the type of sequence data your are investigating. The following options are currently supported: isolate - used for resistome analysis of bacterial isolate sequence assemblies metagenome - used for resistome analysis of metagenome fastq-files. (This option can also be used to 'force' the tool to complete resistome analysis of isolate fastq-files). Currently, this metagenome redmine automator uses KMA for alignment of gene targets to the raw-read data. If you would like to try the other options (BWA or bowtie2), you can download the stand-alone tool from the CARD github . You must also include a list of SEQIDs one per line. Optional Components By default, CARD-RGI will run the analysis for isolate assemblies. In order to customise your CARD-RGI analyses, two additional settings can be optionally modified: loosehits - the default analysis will only include strict and perfect resistance gene matches. Setting this to true will also include 'loose' hits, which may or may not be contributing to resistance. default is False If you want to include loose hits, add a line to your description: loosehits=TRUE partialgenes - the default analysis will only include full gene matches. default is False If you want to include partial gene hits, add a line to your description: partialgenes=TRUE","title":"Description"},{"location":"analysis/cardrgi/#example","text":"For an example using CARDRGI, see issue 28111 . The zip file has been attached to this request as an example (the ftp links expire after approx. 2 weeks). Please note that 2017-SEQ-0054 is an isolate sequence, not actually a metagenome.","title":"Example"},{"location":"analysis/cardrgi/#interpreting-results","text":"CARD-RGI will upload a zipped folder called card-rgi_output_redmineID.zip to the ftp once it has completed. Isolate Analysis This folder will contain a CARDRGI_output.csv csv file which shows every AMR gene found in each sample-sequence. Just because a gene/resistance is listed here does not necessarily mean the strain carries that resistance - it's important to look at the Best_Identities column, which contains the percent identity of the gene/target match to the top hit in CARD. You can be pretty sure that anything with 100 is actually there, but anything else requires further analysis to be sure. Also, some efflux and point-mutations may confer resistance in specific genera/species but not others, so it is important to consider this before coming to any conclusions even if they are a 100% match. Information about the output table can be found on the CARD-RGI github page under RGI main Tab-Delimited Output Details . The isolate analysis will also output individual results files for each sequence, and a RGI-heatmap file including information about all of the isolate sequences in your analysis. Metagenome Analysis The zip folder will contain individual output files for each sequence analysed. It will also include CARDRGI_gene_mapping_output.csv and CARDRGI_allele_mapping_output.csv files. These contain the CARD-results of all resistance genes found in the raw fastq data for each sample-sequence. The CARDRGI_allele_mapping_output.csv allele file will include the data for the top allele hits for each sequence.","title":"Interpreting Results"},{"location":"analysis/cardrgi/#how-long-does-it-take","text":"CARD-RGI is pretty fast, however the time required for analysis will depend on the analysis type and number of sequences requested. Expect approximately 2-5 minutes per sequence.","title":"How long does it take?"},{"location":"analysis/cardrgi/#what-can-go-wrong","text":"1) Requested SEQIDs are not available. If we can't find some of the SEQIDs that you request, you will get a warning message informing you of it.","title":"What can go wrong?"},{"location":"analysis/closerelatives/","text":"CloseRelatives What does it do? CloseRelatives uses mash to try to figure out what genomes in the CFIA collection are closest to a query genome. How do I use it? Subject In the Subject field, put Close Relatives . Spelling counts, but case sensitivity doesn't. Description The first line of the description should be the number of closely related strains you want to find, and the second line should be the SeqID you want to use as a query. For example, to find the 5 closest genomes to 2014-SEQ-0276, you would enter: 10 2014-SEQ-0276 Example For an example CloseRelatives issue, see issue 14676 . Interpreting Results The automator will give you a list of the number of closest strains it found and their mash distances. In the event that you want to look at more strains, it will also upload a file called close_relatives_results.csv that has the distance for every genome in the CFIA collection. For interpretation of the mash distance reported, know that 0 means that two strains are identical (or at least extremely close to identical), and 1 means that two strains have essentially no similarity. How long does it take? Mash is super quick - close relatives should finish in 2 or 3 minutes. What can go wrong? Requested SEQIDs are not available. If we can't find some of the SEQIDs that you request, you will get a warning message informing you of it. Number of strains desired not requested. If the first line of the description wasn't a number, you'll get an error telling you to enter a number.","title":"CloseRelatives"},{"location":"analysis/closerelatives/#closerelatives","text":"","title":"CloseRelatives"},{"location":"analysis/closerelatives/#what-does-it-do","text":"CloseRelatives uses mash to try to figure out what genomes in the CFIA collection are closest to a query genome.","title":"What does it do?"},{"location":"analysis/closerelatives/#how-do-i-use-it","text":"","title":"How do I use it?"},{"location":"analysis/closerelatives/#subject","text":"In the Subject field, put Close Relatives . Spelling counts, but case sensitivity doesn't.","title":"Subject"},{"location":"analysis/closerelatives/#description","text":"The first line of the description should be the number of closely related strains you want to find, and the second line should be the SeqID you want to use as a query. For example, to find the 5 closest genomes to 2014-SEQ-0276, you would enter: 10 2014-SEQ-0276","title":"Description"},{"location":"analysis/closerelatives/#example","text":"For an example CloseRelatives issue, see issue 14676 .","title":"Example"},{"location":"analysis/closerelatives/#interpreting-results","text":"The automator will give you a list of the number of closest strains it found and their mash distances. In the event that you want to look at more strains, it will also upload a file called close_relatives_results.csv that has the distance for every genome in the CFIA collection. For interpretation of the mash distance reported, know that 0 means that two strains are identical (or at least extremely close to identical), and 1 means that two strains have essentially no similarity.","title":"Interpreting Results"},{"location":"analysis/closerelatives/#how-long-does-it-take","text":"Mash is super quick - close relatives should finish in 2 or 3 minutes.","title":"How long does it take?"},{"location":"analysis/closerelatives/#what-can-go-wrong","text":"Requested SEQIDs are not available. If we can't find some of the SEQIDs that you request, you will get a warning message informing you of it. Number of strains desired not requested. If the first line of the description wasn't a number, you'll get an error telling you to enter a number.","title":"What can go wrong?"},{"location":"analysis/confindr/","text":"ConFindr What does it do? ConFindr looks for both intra-species and inter-species contamination in raw reads, which can cause misassemblies and erroneous downstream analysis. More details on ConFindr can be found on GitHub . How do I use it? Subject In the Subject field, put ConFindr . Spelling counts, but case sensitivity doesn't. Description All you need to put in the description is a list of SEQIDs you want to detect contamination in, one per line. Example For an example ConFindr, see issue 12881 . Interpreting Results When your request is complete, a file called confindr_output.zip will be uploaded. This contains two files: confindr_log.txt , and confindr_report.csv . The report file contains 5 columns: Sample: The name of the sample Genus: What ConFindr thinks the genus of the sample is. If ConFindr finds more than one genus, both will be listed here. NumContamSNVs: How many times ConFindr found something that looked like a contaminating SNV. Anything 3 or over is enough to call a sample as contaminated. NumUniqueKmers: How many unique kmers were found for the rMLST genes. If this number is over 45000, a sample is called as contaminated. ContamStatus: Shown as True if ConFindr thinks a sample is contaminated, and False if the sample is thought to be clean. The log file can mostly be ignored - if any unexpected errors come up, we may use it for debugging purposes. How long does it take? ConFindr will take between 1 and 2 minutes for each sample. What can go wrong? 1) Requested SEQIDs are not available. If we can't find some of the SEQIDs that you request, you will get a warning message informing you of it.","title":"ConFindr"},{"location":"analysis/confindr/#confindr","text":"","title":"ConFindr"},{"location":"analysis/confindr/#what-does-it-do","text":"ConFindr looks for both intra-species and inter-species contamination in raw reads, which can cause misassemblies and erroneous downstream analysis. More details on ConFindr can be found on GitHub .","title":"What does it do?"},{"location":"analysis/confindr/#how-do-i-use-it","text":"","title":"How do I use it?"},{"location":"analysis/confindr/#subject","text":"In the Subject field, put ConFindr . Spelling counts, but case sensitivity doesn't.","title":"Subject"},{"location":"analysis/confindr/#description","text":"All you need to put in the description is a list of SEQIDs you want to detect contamination in, one per line.","title":"Description"},{"location":"analysis/confindr/#example","text":"For an example ConFindr, see issue 12881 .","title":"Example"},{"location":"analysis/confindr/#interpreting-results","text":"When your request is complete, a file called confindr_output.zip will be uploaded. This contains two files: confindr_log.txt , and confindr_report.csv . The report file contains 5 columns: Sample: The name of the sample Genus: What ConFindr thinks the genus of the sample is. If ConFindr finds more than one genus, both will be listed here. NumContamSNVs: How many times ConFindr found something that looked like a contaminating SNV. Anything 3 or over is enough to call a sample as contaminated. NumUniqueKmers: How many unique kmers were found for the rMLST genes. If this number is over 45000, a sample is called as contaminated. ContamStatus: Shown as True if ConFindr thinks a sample is contaminated, and False if the sample is thought to be clean. The log file can mostly be ignored - if any unexpected errors come up, we may use it for debugging purposes.","title":"Interpreting Results"},{"location":"analysis/confindr/#how-long-does-it-take","text":"ConFindr will take between 1 and 2 minutes for each sample.","title":"How long does it take?"},{"location":"analysis/confindr/#what-can-go-wrong","text":"1) Requested SEQIDs are not available. If we can't find some of the SEQIDs that you request, you will get a warning message informing you of it.","title":"What can go wrong?"},{"location":"analysis/cowsnphr/","text":"COWSNPhR What does it do? COWSNPhR (CFIA OLC Workflow for Single Nucleotide PHylogeny Reporting) is a pipeline developed in conjunction with the USDA APHIS Veterinary Services that determines the presence of high quality Single Nucleotide Variants between a reference strain and other closely related strains. Following annotation of the reference strain, using Prokka , the pipeline maps the raw reads of the query strains to the reference genome using bowtie2 , finds genetic variants with DeepVariant , extracts variants, creates multiple sequence alignments, and calculates a phylogenetic tree using FastTree to show the relatedness of these strains. The location of each variant is mapped to the annotation of the reference strain, and all variants are entered in a summary table. How do I use it? Subject In the Subject field, put cowsnphr . Spelling counts, but case sensitivity does not. Description The first line of your description needs to be reference , and the second line the SEQID of the strain you want to act as your reference strain. Ideally, you'll want to pick a high-quality assembly for your reference. If you wish to attach a reference file instead of providing a SEQID, the second line must be attached The third line of your description should be compare , and lines after that the SEQIDs for strains to which you want to compare your reference. Example For example COWSNPhR analyses, see issue 15681 and issue 15682 (uploaded reference file) . Interpreting Results The zip file uploaded on COWSNPhR completion should contain four folders: vcf_files : compressed global VCF files summary_tables : table summarizing the location, prevalence, and annotation of variants alignments : multiple sequence alignment of variants tree_files : phylogenetic tree of alignment. If you want to view this tree, you can use a program such as FigTree or a web-based viewer like phylo.io . How long does it take? Most COWSNPhR requests take ~1 hour to complete. If you submit a request for a larger COWSNPhR analysis (>30 strains), it may take substantially longer. What can go wrong? A few things can go wrong with this process: 1) Requested SEQIDs are not available. If we can't find some of the SEQIDs that you request, you will get a warning message informing you of it. 2) Strains too far apart. COWSNPhR requires that the strains you want to compare to the reference be closely related to the reference. If you ask for an analysis with strains that are not very related, you will get a warning telling you so. 3) Other errors. This software is still in active development, so there may be unforeseen issues arising for novel reference: query combinations.","title":"COWSNPhR"},{"location":"analysis/cowsnphr/#cowsnphr","text":"","title":"COWSNPhR"},{"location":"analysis/cowsnphr/#what-does-it-do","text":"COWSNPhR (CFIA OLC Workflow for Single Nucleotide PHylogeny Reporting) is a pipeline developed in conjunction with the USDA APHIS Veterinary Services that determines the presence of high quality Single Nucleotide Variants between a reference strain and other closely related strains. Following annotation of the reference strain, using Prokka , the pipeline maps the raw reads of the query strains to the reference genome using bowtie2 , finds genetic variants with DeepVariant , extracts variants, creates multiple sequence alignments, and calculates a phylogenetic tree using FastTree to show the relatedness of these strains. The location of each variant is mapped to the annotation of the reference strain, and all variants are entered in a summary table.","title":"What does it do?"},{"location":"analysis/cowsnphr/#how-do-i-use-it","text":"","title":"How do I use it?"},{"location":"analysis/cowsnphr/#subject","text":"In the Subject field, put cowsnphr . Spelling counts, but case sensitivity does not.","title":"Subject"},{"location":"analysis/cowsnphr/#description","text":"The first line of your description needs to be reference , and the second line the SEQID of the strain you want to act as your reference strain. Ideally, you'll want to pick a high-quality assembly for your reference. If you wish to attach a reference file instead of providing a SEQID, the second line must be attached The third line of your description should be compare , and lines after that the SEQIDs for strains to which you want to compare your reference.","title":"Description"},{"location":"analysis/cowsnphr/#example","text":"For example COWSNPhR analyses, see issue 15681 and issue 15682 (uploaded reference file) .","title":"Example"},{"location":"analysis/cowsnphr/#interpreting-results","text":"The zip file uploaded on COWSNPhR completion should contain four folders: vcf_files : compressed global VCF files summary_tables : table summarizing the location, prevalence, and annotation of variants alignments : multiple sequence alignment of variants tree_files : phylogenetic tree of alignment. If you want to view this tree, you can use a program such as FigTree or a web-based viewer like phylo.io .","title":"Interpreting Results"},{"location":"analysis/cowsnphr/#how-long-does-it-take","text":"Most COWSNPhR requests take ~1 hour to complete. If you submit a request for a larger COWSNPhR analysis (>30 strains), it may take substantially longer.","title":"How long does it take?"},{"location":"analysis/cowsnphr/#what-can-go-wrong","text":"A few things can go wrong with this process: 1) Requested SEQIDs are not available. If we can't find some of the SEQIDs that you request, you will get a warning message informing you of it. 2) Strains too far apart. COWSNPhR requires that the strains you want to compare to the reference be closely related to the reference. If you ask for an analysis with strains that are not very related, you will get a warning telling you so. 3) Other errors. This software is still in active development, so there may be unforeseen issues arising for novel reference: query combinations.","title":"What can go wrong?"},{"location":"analysis/diversitree/","text":"DiversiTree What does it do? DiversiTree is used for creating phylogenetic trees using parsnp , and optionally finding a specified number of strains that represent the most genetic diversity. How do I use it? Subject In the Subject field, put DiversiTree . Spelling counts, but case sensitivity doesn't. Description The first line of the description should be the number of diverse strains you want picked. If all you want here is the tree and don't care about the number of strains, you can set this to 1. Subsequent lines should be the SEQIDs you want to create the tree from. Note that these strains should all be fairly closely related, or the tree creation may fail (so try to keep things to the same species). By default, DiversiTree uses a tree creation program called parsnp . Another option available is mashtree , which is generally faster at making trees and can handle more diversity between samples, but may create less accurate trees. If you want to use mashtree , add a line at the end of your description that says treeprogram=mashtree . You can look at issue 14724 for an example request that uses mashtree . Example For an example DiversiTree, see issue 12100 . Interpreting Results DiversiTree will upload two files to Redmine on completion: diversitree_report.html , and tree.nwk . The diversitree.html can be opened in any web browser, and has a picture of the tree with selected strains highlighted, and a list of the X most diverse strains, where X is the number specified in the first line of the description. The tree.nwk file contains the phylogenetic tree created in newick format. If you want to view this tree, you can use a program such as FigTree or a web-based viewer like phylo.io . How long does it take? This depends largely on the number of strains you want to use to create the tree. It can often be as quick as a few minutes if you have 10 or less strains, or take several hours if you want a larger (100 or so strain) tree. What can go wrong? A few things can go wrong with this process: 1) Requested SEQIDs are not available. If we can't find some of the SEQIDs that you request, you will get a warning message informing you of it. 2) Strains too far apart. DiversiTree will warn you if it thinks that the strains you want to make a tree from are not closely related enough. If you get this warning, you may want to consider creating a new issue while leaving out the strains it says are too far, or use mashtree as your tree creation program.","title":"DiversiTree"},{"location":"analysis/diversitree/#diversitree","text":"","title":"DiversiTree"},{"location":"analysis/diversitree/#what-does-it-do","text":"DiversiTree is used for creating phylogenetic trees using parsnp , and optionally finding a specified number of strains that represent the most genetic diversity.","title":"What does it do?"},{"location":"analysis/diversitree/#how-do-i-use-it","text":"","title":"How do I use it?"},{"location":"analysis/diversitree/#subject","text":"In the Subject field, put DiversiTree . Spelling counts, but case sensitivity doesn't.","title":"Subject"},{"location":"analysis/diversitree/#description","text":"The first line of the description should be the number of diverse strains you want picked. If all you want here is the tree and don't care about the number of strains, you can set this to 1. Subsequent lines should be the SEQIDs you want to create the tree from. Note that these strains should all be fairly closely related, or the tree creation may fail (so try to keep things to the same species). By default, DiversiTree uses a tree creation program called parsnp . Another option available is mashtree , which is generally faster at making trees and can handle more diversity between samples, but may create less accurate trees. If you want to use mashtree , add a line at the end of your description that says treeprogram=mashtree . You can look at issue 14724 for an example request that uses mashtree .","title":"Description"},{"location":"analysis/diversitree/#example","text":"For an example DiversiTree, see issue 12100 .","title":"Example"},{"location":"analysis/diversitree/#interpreting-results","text":"DiversiTree will upload two files to Redmine on completion: diversitree_report.html , and tree.nwk . The diversitree.html can be opened in any web browser, and has a picture of the tree with selected strains highlighted, and a list of the X most diverse strains, where X is the number specified in the first line of the description. The tree.nwk file contains the phylogenetic tree created in newick format. If you want to view this tree, you can use a program such as FigTree or a web-based viewer like phylo.io .","title":"Interpreting Results"},{"location":"analysis/diversitree/#how-long-does-it-take","text":"This depends largely on the number of strains you want to use to create the tree. It can often be as quick as a few minutes if you have 10 or less strains, or take several hours if you want a larger (100 or so strain) tree.","title":"How long does it take?"},{"location":"analysis/diversitree/#what-can-go-wrong","text":"A few things can go wrong with this process: 1) Requested SEQIDs are not available. If we can't find some of the SEQIDs that you request, you will get a warning message informing you of it. 2) Strains too far apart. DiversiTree will warn you if it thinks that the strains you want to make a tree from are not closely related enough. If you get this warning, you may want to consider creating a new issue while leaving out the strains it says are too far, or use mashtree as your tree creation program.","title":"What can go wrong?"},{"location":"analysis/drep/","text":"dRep What does it do? dRep , developed by Matt Olm, is used to compare genomes and determine relatedness in the form of average nucleotide identity (ANI). Optionally, it can be used to dreplicate genomes. For more information, see the dRep publication . If you publish data using this automator, don't forget to cite the authors of the tool Olm et al., 2017 How do I use it? Subject In the Subject field, put drep . Spelling counts, but case sensitivity doesn't. Description Required Components The first line of the description should be the analysis you would like to run (e.g. analysis=custom ). The following options are currently supported: custom - compare only the SEQIDs listed in the description enterobacterales - compare the listed SEQIDs to a set of reference sequences for species from the order Enterobacterales listeriaceae - compare the listed SEQIDs to a set of reference sequences for species from the family Listeriaceae You must also include a list of SEQIDs one per line. Optional Components By default, dRep will run the compare command to compare the set of genomes. In order to customise your dRep analyses, several settings can be optionally modified MASH ANI cutoff - this value is important, as only sequences clustering within this 'relatedness' threshold will be analysed using the secondary ANI algorithm (which is what determines the ANI values) default is 0.9 (90%) If you want to use custom cutoffs for MASH clustering, add a line to your description: mash_ANI_threshold=0.8 Secondary clustering cutoff default is 0.99 (99%) modify as follows: S_ANI=0.9 coverage threshold (minimum overlap between genomes when doing secondary comparisons) default is 0.1 (10%) modify as follows: coverage_threshold=0.2 cluster algorithm default is average modify as follows: clusteralgorithm=ward available algorithms include: median , weighted , single , complete , average , ward , centroid comparison algorithm default is ANImf modify as follows: comparisonalgorithm=fastANI available algorithms include: fastANI , ANImf , ANIn , gANI , goANI command type (compare genomes for ANI values, or dereplicate, see dRep ). default is compare modify as follows: command=dereplicate Example Interpreting Results dRep will upload a zip file to the ftp on completion. This will contain folders with data in the form of tables, figures, etc. ANI values will only be output for clusters of sequences that are related at or above the MASH ANI cutoff. dRep does not output a tree file, however you should be able to replicate the output MASH tree by hierarchical clustering of the MASH table in R. (Hierarchical clustering uses the cluster algorithm command described above) How long does it take? This depends largely on the number of strains you want to compare and their relatedness. It can often be as quick as a few minutes if you have 10 or less strains, or take several hours for more strains. The primary clustering step uses Mash to determine whether sequences are likely related (based on provided cutoff or default 90%). The secondary analysis which calculates the ANI values is only completed on sets of genomes that have at least 90% Mash ANI (unless this cutoff is modified). These secondary comparisons are slower (more sensitive and accurate for ANI). Therefore, if you have a large number of closely related genomes your job may take longer to complete. What can go wrong? A few things can go wrong with this process: 1) Requested SEQIDs are not available. If we can't find some of the SEQIDs that you request, you will get a warning message informing you of it. 2) You did not provide an analysis type. Custom analysis only completes dRep compare for the SEQ-IDs listed, whereas enterobacterales will compare your listed sequences to reference sequences from the order Enterobacterales, and listeriaceae will compare your listed sequences to reference sequences from the family Listeriaceae.","title":"dRep-ANI"},{"location":"analysis/drep/#drep","text":"","title":"dRep"},{"location":"analysis/drep/#what-does-it-do","text":"dRep , developed by Matt Olm, is used to compare genomes and determine relatedness in the form of average nucleotide identity (ANI). Optionally, it can be used to dreplicate genomes. For more information, see the dRep publication . If you publish data using this automator, don't forget to cite the authors of the tool Olm et al., 2017","title":"What does it do?"},{"location":"analysis/drep/#how-do-i-use-it","text":"","title":"How do I use it?"},{"location":"analysis/drep/#subject","text":"In the Subject field, put drep . Spelling counts, but case sensitivity doesn't.","title":"Subject"},{"location":"analysis/drep/#description","text":"Required Components The first line of the description should be the analysis you would like to run (e.g. analysis=custom ). The following options are currently supported: custom - compare only the SEQIDs listed in the description enterobacterales - compare the listed SEQIDs to a set of reference sequences for species from the order Enterobacterales listeriaceae - compare the listed SEQIDs to a set of reference sequences for species from the family Listeriaceae You must also include a list of SEQIDs one per line. Optional Components By default, dRep will run the compare command to compare the set of genomes. In order to customise your dRep analyses, several settings can be optionally modified MASH ANI cutoff - this value is important, as only sequences clustering within this 'relatedness' threshold will be analysed using the secondary ANI algorithm (which is what determines the ANI values) default is 0.9 (90%) If you want to use custom cutoffs for MASH clustering, add a line to your description: mash_ANI_threshold=0.8 Secondary clustering cutoff default is 0.99 (99%) modify as follows: S_ANI=0.9 coverage threshold (minimum overlap between genomes when doing secondary comparisons) default is 0.1 (10%) modify as follows: coverage_threshold=0.2 cluster algorithm default is average modify as follows: clusteralgorithm=ward available algorithms include: median , weighted , single , complete , average , ward , centroid comparison algorithm default is ANImf modify as follows: comparisonalgorithm=fastANI available algorithms include: fastANI , ANImf , ANIn , gANI , goANI command type (compare genomes for ANI values, or dereplicate, see dRep ). default is compare modify as follows: command=dereplicate","title":"Description"},{"location":"analysis/drep/#example","text":"","title":"Example"},{"location":"analysis/drep/#interpreting-results","text":"dRep will upload a zip file to the ftp on completion. This will contain folders with data in the form of tables, figures, etc. ANI values will only be output for clusters of sequences that are related at or above the MASH ANI cutoff. dRep does not output a tree file, however you should be able to replicate the output MASH tree by hierarchical clustering of the MASH table in R. (Hierarchical clustering uses the cluster algorithm command described above)","title":"Interpreting Results"},{"location":"analysis/drep/#how-long-does-it-take","text":"This depends largely on the number of strains you want to compare and their relatedness. It can often be as quick as a few minutes if you have 10 or less strains, or take several hours for more strains. The primary clustering step uses Mash to determine whether sequences are likely related (based on provided cutoff or default 90%). The secondary analysis which calculates the ANI values is only completed on sets of genomes that have at least 90% Mash ANI (unless this cutoff is modified). These secondary comparisons are slower (more sensitive and accurate for ANI). Therefore, if you have a large number of closely related genomes your job may take longer to complete.","title":"How long does it take?"},{"location":"analysis/drep/#what-can-go-wrong","text":"A few things can go wrong with this process: 1) Requested SEQIDs are not available. If we can't find some of the SEQIDs that you request, you will get a warning message informing you of it. 2) You did not provide an analysis type. Custom analysis only completes dRep compare for the SEQ-IDs listed, whereas enterobacterales will compare your listed sequences to reference sequences from the order Enterobacterales, and listeriaceae will compare your listed sequences to reference sequences from the family Listeriaceae.","title":"What can go wrong?"},{"location":"analysis/eCGF/","text":"eCGF What does it do? The eCGF automator performs in silico CGF subtyping of Campylobacter using whole-genome sequence data in FASTA format Check out the source code: github How do I use it? Subject In the Subject field, put eCGF . Spelling counts, but case sensitivity does not. Description All you need to put in the description is a list of SEQIDs you want to process, one per line. Example For an example eCGF analysis, see issue 16196 . Interpreting Results ECTyper will output a summary report, ISSUE_NUMBER_summary_report.csv that should look something like the following excerpt: Genes 11168_cj0008 11168_cj0033 11168_cj0035 ... Nearest Match Number of Similarities (/40) ... 2018-LET-0106 0 0 1 ... 27_3_4 40 ... 2018-LET-0012 0 0 1 ... 926_2_1 40 ... How long does it take? eCGF is pretty fast - expect it to take a few seconds per genome you give it. What can go wrong? Requested SEQIDs are not available. If we can't find some of the SEQIDs that you request, you will get a warning message informing you of it. ?","title":"eCGF"},{"location":"analysis/eCGF/#ecgf","text":"","title":"eCGF"},{"location":"analysis/eCGF/#what-does-it-do","text":"The eCGF automator performs in silico CGF subtyping of Campylobacter using whole-genome sequence data in FASTA format Check out the source code: github","title":"What does it do?"},{"location":"analysis/eCGF/#how-do-i-use-it","text":"","title":"How do I use it?"},{"location":"analysis/eCGF/#subject","text":"In the Subject field, put eCGF . Spelling counts, but case sensitivity does not.","title":"Subject"},{"location":"analysis/eCGF/#description","text":"All you need to put in the description is a list of SEQIDs you want to process, one per line.","title":"Description"},{"location":"analysis/eCGF/#example","text":"For an example eCGF analysis, see issue 16196 .","title":"Example"},{"location":"analysis/eCGF/#interpreting-results","text":"ECTyper will output a summary report, ISSUE_NUMBER_summary_report.csv that should look something like the following excerpt: Genes 11168_cj0008 11168_cj0033 11168_cj0035 ... Nearest Match Number of Similarities (/40) ... 2018-LET-0106 0 0 1 ... 27_3_4 40 ... 2018-LET-0012 0 0 1 ... 926_2_1 40 ...","title":"Interpreting Results"},{"location":"analysis/eCGF/#how-long-does-it-take","text":"eCGF is pretty fast - expect it to take a few seconds per genome you give it.","title":"How long does it take?"},{"location":"analysis/eCGF/#what-can-go-wrong","text":"Requested SEQIDs are not available. If we can't find some of the SEQIDs that you request, you will get a warning message informing you of it. ?","title":"What can go wrong?"},{"location":"analysis/ectyper/","text":"ECTyper What does it do? The ECTyper automator performs serotyping on FASTA files. Check out the source code: github How do I use it? Subject In the Subject field, put ec_typer . Spelling counts, but case sensitivity does not. Description All you need to put in the description is a list of SEQIDs you want to process, one per line. Example For an example ECTyper analysis, see issue 15946 . Interpreting Results ECTyper will output a summary report, ec_typer_report.tsv ,that should look something like the following: Name O-type H-type Alleles 2014-SEQ-0276 O157 H7 wzx: 1.00 wzy: 0.58 fliC: 1.00 2019-SEQ-0137 O146 H8 wzx: 1.00 wzy: 0.56 fliC: 1.00 2019-SEQ-0145 - H2 fliC: 1.00 How long does it take? ECTyper is pretty fast - expect it to take a minute per genome you give it. What can go wrong? Requested SEQIDs are not available. If we can't find some of the SEQIDs that you request, you will get a warning message informing you of it.","title":"ECTyper"},{"location":"analysis/ectyper/#ectyper","text":"","title":"ECTyper"},{"location":"analysis/ectyper/#what-does-it-do","text":"The ECTyper automator performs serotyping on FASTA files. Check out the source code: github","title":"What does it do?"},{"location":"analysis/ectyper/#how-do-i-use-it","text":"","title":"How do I use it?"},{"location":"analysis/ectyper/#subject","text":"In the Subject field, put ec_typer . Spelling counts, but case sensitivity does not.","title":"Subject"},{"location":"analysis/ectyper/#description","text":"All you need to put in the description is a list of SEQIDs you want to process, one per line.","title":"Description"},{"location":"analysis/ectyper/#example","text":"For an example ECTyper analysis, see issue 15946 .","title":"Example"},{"location":"analysis/ectyper/#interpreting-results","text":"ECTyper will output a summary report, ec_typer_report.tsv ,that should look something like the following: Name O-type H-type Alleles 2014-SEQ-0276 O157 H7 wzx: 1.00 wzy: 0.58 fliC: 1.00 2019-SEQ-0137 O146 H8 wzx: 1.00 wzy: 0.56 fliC: 1.00 2019-SEQ-0145 - H2 fliC: 1.00","title":"Interpreting Results"},{"location":"analysis/ectyper/#how-long-does-it-take","text":"ECTyper is pretty fast - expect it to take a minute per genome you give it.","title":"How long does it take?"},{"location":"analysis/ectyper/#what-can-go-wrong","text":"Requested SEQIDs are not available. If we can't find some of the SEQIDs that you request, you will get a warning message informing you of it.","title":"What can go wrong?"},{"location":"analysis/geneseekr/","text":"GeneSeekr What does it do? The GeneSeekr is a suite of analyses that detect gene targets in FASTA-formatted files. How do I use it? Subject In the Subject field, put geneseekr . Spelling counts, but case sensitivity doesn't. Description Required Components In the Description field, you must provide the requested analysis type as follows: analysis=requested_analysis The GeneSeekr pipeline supports the following analyses (again, spelling counts, but case sensitivity doesn't): gdcs - determines the presence of genomically-dispersed conserved sequences in the following genera: Escherichia, Listeria, Salmonella, Vibrio . NOTE : you must provide an additional line: organism=ORGANISM genesippr - custom suite of genes derived from the following genera: Bacillus, Campylobacter, Escherichia, Listeria, Salmonella, Staphylococcus, Vibrio mlst - determines multi-locus sequence type for the following genera: Bacillus, Campylobacter, Escherichia, Listeria, Salmonella, Staphylococcus, Vibrio . NOTE : you must provide an additional line: organism=ORGANISM cgmlst - determines core genome multi-locus sequence type for the following genera: Escherichia, Yersinia . NOTE : you must provide an additional line: organism=ORGANISM resfinder - identifies acquired antimicrobial resistance genes rmlst - determines ribosomal multi-locus sequence type serosippr - calculates the serotype for Escherichia sixteens - determines closest 16S match virulence - finds virulence genes custom ( you must attach a FASTA-formatted file of target(s) to the issue ) You must also include a list of SEQIDs one per line. Optional Components In order to customise your GeneSeekr analyses, several settings can be optionally modified BLAST program. NOTE: GeneSeekr does not check to see if your query or database are the appropriate molecule for the requested program. Additionally, none of the standard analyses currently have protein databases. default is blastn You can select one of the following BLAST programs to use: blastn - nt query: nt db blastp - protein query: protein db blastx - translated nt query: protein db tblastn - protein query: translated nt db tblastx - translated nt query: translated nt db modify as follows: blast=tblastx Minimum cutoff for matches to be included in report. default is 70 modify as follows: cutoff=80 E-value cutoff default is 1E-05 modify as follows: evalue=1E-10 Include alignments in reports default is False modify as follows: align=True Report unique hits only - does not report multiple hits at the same location in a contig. Instead, only the best hit is reported, and the rest are discarded default is False modify as follows: unique=True Include FASTA file output of strain-specific target sequence matches default is False modify as follows: fasta=True Example For example GeneSeekr issues, see issue 14470 (ResFindr) , issue 14471 (custom) , or issue 27867 (cgMLST) . Interpreting Results The GeneSeekr automator will upload a file called geneseekr_output.zip once it has completed. This file will contain all the reports generated for the requested analysis. How long does it take? It depends on the analysis requested. The GeneSeekr pipeline should take about a minute to analyze each SEQID requested. What can go wrong? Requested SEQIDs are not available. If we can't find some of the SEQIDs that you request, you will get a warning message informing you of it. There was an issue with the requested analysis: either one was not supplied, the was a typo, or you requested a currently-unsupported analysis. An error message detailing the problem will be added to the issue. The custom analysis requires an attached FASTA-formatted file of gene targets. If the file was not attached, or there was an issue reading the file, an error message detailing the problem will be add to the issue.","title":"GeneSeekr"},{"location":"analysis/geneseekr/#geneseekr","text":"","title":"GeneSeekr"},{"location":"analysis/geneseekr/#what-does-it-do","text":"The GeneSeekr is a suite of analyses that detect gene targets in FASTA-formatted files.","title":"What does it do?"},{"location":"analysis/geneseekr/#how-do-i-use-it","text":"","title":"How do I use it?"},{"location":"analysis/geneseekr/#subject","text":"In the Subject field, put geneseekr . Spelling counts, but case sensitivity doesn't.","title":"Subject"},{"location":"analysis/geneseekr/#description","text":"Required Components In the Description field, you must provide the requested analysis type as follows: analysis=requested_analysis The GeneSeekr pipeline supports the following analyses (again, spelling counts, but case sensitivity doesn't): gdcs - determines the presence of genomically-dispersed conserved sequences in the following genera: Escherichia, Listeria, Salmonella, Vibrio . NOTE : you must provide an additional line: organism=ORGANISM genesippr - custom suite of genes derived from the following genera: Bacillus, Campylobacter, Escherichia, Listeria, Salmonella, Staphylococcus, Vibrio mlst - determines multi-locus sequence type for the following genera: Bacillus, Campylobacter, Escherichia, Listeria, Salmonella, Staphylococcus, Vibrio . NOTE : you must provide an additional line: organism=ORGANISM cgmlst - determines core genome multi-locus sequence type for the following genera: Escherichia, Yersinia . NOTE : you must provide an additional line: organism=ORGANISM resfinder - identifies acquired antimicrobial resistance genes rmlst - determines ribosomal multi-locus sequence type serosippr - calculates the serotype for Escherichia sixteens - determines closest 16S match virulence - finds virulence genes custom ( you must attach a FASTA-formatted file of target(s) to the issue ) You must also include a list of SEQIDs one per line. Optional Components In order to customise your GeneSeekr analyses, several settings can be optionally modified BLAST program. NOTE: GeneSeekr does not check to see if your query or database are the appropriate molecule for the requested program. Additionally, none of the standard analyses currently have protein databases. default is blastn You can select one of the following BLAST programs to use: blastn - nt query: nt db blastp - protein query: protein db blastx - translated nt query: protein db tblastn - protein query: translated nt db tblastx - translated nt query: translated nt db modify as follows: blast=tblastx Minimum cutoff for matches to be included in report. default is 70 modify as follows: cutoff=80 E-value cutoff default is 1E-05 modify as follows: evalue=1E-10 Include alignments in reports default is False modify as follows: align=True Report unique hits only - does not report multiple hits at the same location in a contig. Instead, only the best hit is reported, and the rest are discarded default is False modify as follows: unique=True Include FASTA file output of strain-specific target sequence matches default is False modify as follows: fasta=True","title":"Description"},{"location":"analysis/geneseekr/#example","text":"For example GeneSeekr issues, see issue 14470 (ResFindr) , issue 14471 (custom) , or issue 27867 (cgMLST) .","title":"Example"},{"location":"analysis/geneseekr/#interpreting-results","text":"The GeneSeekr automator will upload a file called geneseekr_output.zip once it has completed. This file will contain all the reports generated for the requested analysis.","title":"Interpreting Results"},{"location":"analysis/geneseekr/#how-long-does-it-take","text":"It depends on the analysis requested. The GeneSeekr pipeline should take about a minute to analyze each SEQID requested.","title":"How long does it take?"},{"location":"analysis/geneseekr/#what-can-go-wrong","text":"Requested SEQIDs are not available. If we can't find some of the SEQIDs that you request, you will get a warning message informing you of it. There was an issue with the requested analysis: either one was not supplied, the was a typo, or you requested a currently-unsupported analysis. An error message detailing the problem will be added to the issue. The custom analysis requires an attached FASTA-formatted file of gene targets. If the file was not attached, or there was an issue reading the file, an error message detailing the problem will be add to the issue.","title":"What can go wrong?"},{"location":"analysis/intimintyper/","text":"IntiminTyper What does it do? IntiminTyper uses phylotyper developed at the Public Health Agency of Canada to assign subtypes to intimin ( eae ) genes in Escherichia coli . How do I use it? Subject In the Subject field, put intimin_typer . Spelling counts, but case sensitivity doesn't. Description All you need to put in the description is a list of SEQIDs you want to subtype intimin genes in, one per line. Nothing bad will happen if you put in SEQIDs that aren't from E. coli , but you won't get any results for those SeqIDs. Example For an example IntiminTyper, see issue 16512 . Interpreting Results IntiminTyper will upload a file called intimin_predictions.tsv - this file will tell what subtype the intimin gene in each of your samples is, noting if it's an exact match to a known allele or a guess based on what the allele is similar to. When IntiminTyper guesses you'll also receive a probability showing how certain it is with its guess. How long does it take? IntiminTyper should take about 30 seconds for analysis of each sample. What can go wrong? 1) Requested SEQIDs are not available: If we can't find some of the SEQIDs that you request, they won't show up in your final report.","title":"IntiminTyper"},{"location":"analysis/intimintyper/#intimintyper","text":"","title":"IntiminTyper"},{"location":"analysis/intimintyper/#what-does-it-do","text":"IntiminTyper uses phylotyper developed at the Public Health Agency of Canada to assign subtypes to intimin ( eae ) genes in Escherichia coli .","title":"What does it do?"},{"location":"analysis/intimintyper/#how-do-i-use-it","text":"","title":"How do I use it?"},{"location":"analysis/intimintyper/#subject","text":"In the Subject field, put intimin_typer . Spelling counts, but case sensitivity doesn't.","title":"Subject"},{"location":"analysis/intimintyper/#description","text":"All you need to put in the description is a list of SEQIDs you want to subtype intimin genes in, one per line. Nothing bad will happen if you put in SEQIDs that aren't from E. coli , but you won't get any results for those SeqIDs.","title":"Description"},{"location":"analysis/intimintyper/#example","text":"For an example IntiminTyper, see issue 16512 .","title":"Example"},{"location":"analysis/intimintyper/#interpreting-results","text":"IntiminTyper will upload a file called intimin_predictions.tsv - this file will tell what subtype the intimin gene in each of your samples is, noting if it's an exact match to a known allele or a guess based on what the allele is similar to. When IntiminTyper guesses you'll also receive a probability showing how certain it is with its guess.","title":"Interpreting Results"},{"location":"analysis/intimintyper/#how-long-does-it-take","text":"IntiminTyper should take about 30 seconds for analysis of each sample.","title":"How long does it take?"},{"location":"analysis/intimintyper/#what-can-go-wrong","text":"1) Requested SEQIDs are not available: If we can't find some of the SEQIDs that you request, they won't show up in your final report.","title":"What can go wrong?"},{"location":"analysis/kma/","text":"KMA - Gene Detection What does it do? KMA (k-mer alignment) is a program developed by the Center for Genomic Epidemiology (CGE) to align gene targets to sequence assemblies or raw-reads. This redmine automator tool currently allows analysis for antimicrobial, biocide, and metal resistance, or a custom set of user targets in sequence data. For more information, see the KMA publication , and/or the CGE website . If you publish data using this automator, don't forget to cite the authors of the tool Clausen et al., 2018 How do I use it? Subject In the Subject field, put kma . Spelling counts, but case sensitivity doesn't. Description Required Components The first line of the description should be the analysis you would like to run (e.g. analysis=amr ). This will depend on the type of sequence data your are investigating. The following options are currently supported: amr - used for antimicrobial resistance gene detection biocide - used for biocide resistance gene detection metal - used for metal resistance gene detection bacmet - used for metal resistance gene detection using the BacMet database , which was converted to nucleotide format by James Robertson (reference to follow) custom - gene detection using a custom target database uploaded by the user. The attached file MUST be named targets.fasta . The output csv file will use your fasta-file gene headers as names. You must also include a list of SEQIDs one per line. Optional Components By default, KMA will run the analysis for isolate assemblies. In order to customise your CARD-RGI analyses, additional settings can be optionally modified: seqtype - the default analysis will use genome assemblies. default is fasta If you want to analyse raw-read data, add the following line: seqtype=fastq seqtype=minionfastq Note: seqtype for minion raw-reads is slightly different, as KMA uses different commands for paired-end (illumina) and single-end (nanopore) data nanopore - the default analysis will be for short-read Illumina data. This function is for assemblies default is False If you want to analyse long-read Nanopore data, add a line to your description: nanopore=TRUE readcount - the default analysis will only output a csv file containing information on matching target gene(s) presence including template identity, coverage, depth, etc. This flag will output read-mapping data for your targets. This function is best used with raw-reads - Assembly analysis will likely only report 1 read mapping to each gene-target default is False If you want the analysis to output a file including information on the number of reads in your sequence mapping to each database-target, add a line to your description: readcount=TRUE Example For an example KMA analysis, see issue 28117 . The zip file has been attached to this request as an example (the ftp links expire after approx. 2 weeks). Interpreting Results KMA will upload a zipped folder called kma_output_redmineID.zip to the ftp once it has completed. This will contain a kma_output.csv file with the target-hits/results for all of the sequences requested in the analysis. Just because a gene/resistance is listed here does not necessarily mean the strain carries that resistance - it's important to look at the Template_Identity and Template_Coverage columns. You can be pretty sure that anything with 100 for both is actually there, but anything else requires further analysis to be sure. Databases Provided with the Automator The databases for AMR, biocide, and metal resistance were derived from the NCBI AMRFinderPlus database , version 3.10 downloaded on 2021-05-06. This database was then manually curated and split into separate AMR, biocide, and metal resistance databases. The following genes were added to the biocide resistance database, as they were of interest for some research projects: -sugE_sugE_quaternary_ammonium_compound_efflux_NC_011514.1:c6661-6344 -sugE_sugE_quaternary_ammonium_compound_efflux_NC_003197.2:4581504-4581833 -sugE_sugE_quaternary_ammonium_compound_efflux_NC_017731.1:2886005-2886319 -sugE_sugE_quaternary_ammonium_compound_efflux_NC_020418.1:c2409693-2409373 -sugE_sugE_quaternary_ammonium_compound_efflux_NC_016830.1:5098537-5098851 -sugE(p)_sugESalmonella_quaternary_ammonium_compound_efflux_NC_010259.1:c4461-4144 -sugE(c)_sugESalmonella_quaternary_ammonium_compound_efflux_NC_003198.1:4557993-4558310 -sugE(p)_sugEEcoli_quaternary_ammonium_compound_efflux_NC_019069.1:c60194-59877 -sugE(p)_sugEEcoli_quaternary_ammonium_compound_efflux_KC285365.1 -sugE(c)_sugEEcoli_quaternary_ammonium_compound_efflux_LT903847.1:c240852-240535 -bcrA_bcrABC_Listeria_benzalkonium_chloride_efflux_JX023276.1:106-645 -bcrB_bcrABC_Listeria_benzalkonium_chloride_efflux_JX023276.1:657-974 -bcrC_bcrABC_Listeria_benzalkonium_chloride_efflux_JX023276.1:992-1336 -qacH_qacH_Listeria_quaternary_ammonium_compound_efflux_HG329628.1:983-1354 -emrE_emrE_Listeria_Listeria_quaternary_ammonium_compound_resistance_NC_013768.1:1817073-1817396 -qacA_qacA_Listeria_quaternary_ammonium_compound_efflux_KC980922.1 -qacC_qacC_Listeria_quaternary_ammonium_compound_efflux_RJZ34303 -qacED1_qacED1_Acinetobacter_quaternary_ammonium_compound_efflux_KM972592.1 How long does it take? KMA is very fast, however the time required for analysis will depend on the analysis type and number of sequences requested. What can go wrong? 1) Requested SEQIDs are not available. If we can't find some of the SEQIDs that you request, you will get a warning message informing you of it. 2) A custom analysis was requested but targets.fasta file was not attached. You will get a warning message informing you of it.","title":"KMA - Gene Detection"},{"location":"analysis/kma/#kma-gene-detection","text":"","title":"KMA - Gene Detection"},{"location":"analysis/kma/#what-does-it-do","text":"KMA (k-mer alignment) is a program developed by the Center for Genomic Epidemiology (CGE) to align gene targets to sequence assemblies or raw-reads. This redmine automator tool currently allows analysis for antimicrobial, biocide, and metal resistance, or a custom set of user targets in sequence data. For more information, see the KMA publication , and/or the CGE website . If you publish data using this automator, don't forget to cite the authors of the tool Clausen et al., 2018","title":"What does it do?"},{"location":"analysis/kma/#how-do-i-use-it","text":"","title":"How do I use it?"},{"location":"analysis/kma/#subject","text":"In the Subject field, put kma . Spelling counts, but case sensitivity doesn't.","title":"Subject"},{"location":"analysis/kma/#description","text":"Required Components The first line of the description should be the analysis you would like to run (e.g. analysis=amr ). This will depend on the type of sequence data your are investigating. The following options are currently supported: amr - used for antimicrobial resistance gene detection biocide - used for biocide resistance gene detection metal - used for metal resistance gene detection bacmet - used for metal resistance gene detection using the BacMet database , which was converted to nucleotide format by James Robertson (reference to follow) custom - gene detection using a custom target database uploaded by the user. The attached file MUST be named targets.fasta . The output csv file will use your fasta-file gene headers as names. You must also include a list of SEQIDs one per line. Optional Components By default, KMA will run the analysis for isolate assemblies. In order to customise your CARD-RGI analyses, additional settings can be optionally modified: seqtype - the default analysis will use genome assemblies. default is fasta If you want to analyse raw-read data, add the following line: seqtype=fastq seqtype=minionfastq Note: seqtype for minion raw-reads is slightly different, as KMA uses different commands for paired-end (illumina) and single-end (nanopore) data nanopore - the default analysis will be for short-read Illumina data. This function is for assemblies default is False If you want to analyse long-read Nanopore data, add a line to your description: nanopore=TRUE readcount - the default analysis will only output a csv file containing information on matching target gene(s) presence including template identity, coverage, depth, etc. This flag will output read-mapping data for your targets. This function is best used with raw-reads - Assembly analysis will likely only report 1 read mapping to each gene-target default is False If you want the analysis to output a file including information on the number of reads in your sequence mapping to each database-target, add a line to your description: readcount=TRUE","title":"Description"},{"location":"analysis/kma/#example","text":"For an example KMA analysis, see issue 28117 . The zip file has been attached to this request as an example (the ftp links expire after approx. 2 weeks).","title":"Example"},{"location":"analysis/kma/#interpreting-results","text":"KMA will upload a zipped folder called kma_output_redmineID.zip to the ftp once it has completed. This will contain a kma_output.csv file with the target-hits/results for all of the sequences requested in the analysis. Just because a gene/resistance is listed here does not necessarily mean the strain carries that resistance - it's important to look at the Template_Identity and Template_Coverage columns. You can be pretty sure that anything with 100 for both is actually there, but anything else requires further analysis to be sure.","title":"Interpreting Results"},{"location":"analysis/kma/#databases-provided-with-the-automator","text":"The databases for AMR, biocide, and metal resistance were derived from the NCBI AMRFinderPlus database , version 3.10 downloaded on 2021-05-06. This database was then manually curated and split into separate AMR, biocide, and metal resistance databases. The following genes were added to the biocide resistance database, as they were of interest for some research projects: -sugE_sugE_quaternary_ammonium_compound_efflux_NC_011514.1:c6661-6344 -sugE_sugE_quaternary_ammonium_compound_efflux_NC_003197.2:4581504-4581833 -sugE_sugE_quaternary_ammonium_compound_efflux_NC_017731.1:2886005-2886319 -sugE_sugE_quaternary_ammonium_compound_efflux_NC_020418.1:c2409693-2409373 -sugE_sugE_quaternary_ammonium_compound_efflux_NC_016830.1:5098537-5098851 -sugE(p)_sugESalmonella_quaternary_ammonium_compound_efflux_NC_010259.1:c4461-4144 -sugE(c)_sugESalmonella_quaternary_ammonium_compound_efflux_NC_003198.1:4557993-4558310 -sugE(p)_sugEEcoli_quaternary_ammonium_compound_efflux_NC_019069.1:c60194-59877 -sugE(p)_sugEEcoli_quaternary_ammonium_compound_efflux_KC285365.1 -sugE(c)_sugEEcoli_quaternary_ammonium_compound_efflux_LT903847.1:c240852-240535 -bcrA_bcrABC_Listeria_benzalkonium_chloride_efflux_JX023276.1:106-645 -bcrB_bcrABC_Listeria_benzalkonium_chloride_efflux_JX023276.1:657-974 -bcrC_bcrABC_Listeria_benzalkonium_chloride_efflux_JX023276.1:992-1336 -qacH_qacH_Listeria_quaternary_ammonium_compound_efflux_HG329628.1:983-1354 -emrE_emrE_Listeria_Listeria_quaternary_ammonium_compound_resistance_NC_013768.1:1817073-1817396 -qacA_qacA_Listeria_quaternary_ammonium_compound_efflux_KC980922.1 -qacC_qacC_Listeria_quaternary_ammonium_compound_efflux_RJZ34303 -qacED1_qacED1_Acinetobacter_quaternary_ammonium_compound_efflux_KM972592.1","title":"Databases Provided with the Automator"},{"location":"analysis/kma/#how-long-does-it-take","text":"KMA is very fast, however the time required for analysis will depend on the analysis type and number of sequences requested.","title":"How long does it take?"},{"location":"analysis/kma/#what-can-go-wrong","text":"1) Requested SEQIDs are not available. If we can't find some of the SEQIDs that you request, you will get a warning message informing you of it. 2) A custom analysis was requested but targets.fasta file was not attached. You will get a warning message informing you of it.","title":"What can go wrong?"},{"location":"analysis/mashtree/","text":"MashTree What does it do? MashTree will take a list of SEQIDs, and then create a phylogenetic tree using Mash distances. See mashtree github and the mashtree docs for more information. (The mashtree docs explains how mash is used to create the phylogeny). If you use mashtree, please remember to cite Katz et al., 2019 , Ondov et al., 2016 and Ondov et al., 2019 How do I use it? Subject In the Subject field, put mashtree . Spelling counts, but case sensitivity doesn't. Description Required Components The first line of the description should be the analysis you would like to run (e.g. analysis=custom ). The following options are currently supported: custom - compare only the SEQIDs listed in the description enterobacterales - compare the listed SEQIDs to a set of reference sequences for species from the order Enterobacterales listeriaceae - compare the listed SEQIDs to a set of reference sequences for species from the family Listeriaceae You must also include a list of SEQIDs one per line. Optional Components genomesize: default is 5000000 If you want to use a genome size estimate, add a line to your description: genomesize=3000000 mindepth - if mindepth is zero, then it will be chosen in a smart but slower method to discard lower-abundance kmers. default is 5 If you want to use a minimum depth, add a line to your description: mindepth=10 kmerlength - Mash kmer size \"larger k-mers will provide more specificity while smaller k-mers will provide more sensitivity. (Larger genomes will also require larger k-mers to avoid k-mers that are shared by chance).\" default is 21 If you want to change the k-mer size, add a line to your description: kmerlength=30 sketch-size - Mash sketch size \"corresponds to the number of (non-redundant) min-hashes that are kept. Larger sketches will better represent the sequence, but at the cost of larger sketch files and longer comparison times.\" default is 10000 If you want to change the mash sketch-size, add a line to your description: sketch-size=1000 Example For an example MashTree, see issue 26206 . Interpreting Results Upon completion, you'll be given a treefile. How long does it take? This depends largely on the number of strains you want to use to create the tree. It can often be as quick as a few minutes. What can go wrong? A few things can go wrong with this process: 1) Requested SEQIDs are not available. If we can't find some of the SEQIDs that you request, you will get a warning message informing you of it.","title":"Mashtree"},{"location":"analysis/mashtree/#mashtree","text":"","title":"MashTree"},{"location":"analysis/mashtree/#what-does-it-do","text":"MashTree will take a list of SEQIDs, and then create a phylogenetic tree using Mash distances. See mashtree github and the mashtree docs for more information. (The mashtree docs explains how mash is used to create the phylogeny). If you use mashtree, please remember to cite Katz et al., 2019 , Ondov et al., 2016 and Ondov et al., 2019","title":"What does it do?"},{"location":"analysis/mashtree/#how-do-i-use-it","text":"","title":"How do I use it?"},{"location":"analysis/mashtree/#subject","text":"In the Subject field, put mashtree . Spelling counts, but case sensitivity doesn't.","title":"Subject"},{"location":"analysis/mashtree/#description","text":"Required Components The first line of the description should be the analysis you would like to run (e.g. analysis=custom ). The following options are currently supported: custom - compare only the SEQIDs listed in the description enterobacterales - compare the listed SEQIDs to a set of reference sequences for species from the order Enterobacterales listeriaceae - compare the listed SEQIDs to a set of reference sequences for species from the family Listeriaceae You must also include a list of SEQIDs one per line. Optional Components genomesize: default is 5000000 If you want to use a genome size estimate, add a line to your description: genomesize=3000000 mindepth - if mindepth is zero, then it will be chosen in a smart but slower method to discard lower-abundance kmers. default is 5 If you want to use a minimum depth, add a line to your description: mindepth=10 kmerlength - Mash kmer size \"larger k-mers will provide more specificity while smaller k-mers will provide more sensitivity. (Larger genomes will also require larger k-mers to avoid k-mers that are shared by chance).\" default is 21 If you want to change the k-mer size, add a line to your description: kmerlength=30 sketch-size - Mash sketch size \"corresponds to the number of (non-redundant) min-hashes that are kept. Larger sketches will better represent the sequence, but at the cost of larger sketch files and longer comparison times.\" default is 10000 If you want to change the mash sketch-size, add a line to your description: sketch-size=1000","title":"Description"},{"location":"analysis/mashtree/#example","text":"For an example MashTree, see issue 26206 .","title":"Example"},{"location":"analysis/mashtree/#interpreting-results","text":"Upon completion, you'll be given a treefile.","title":"Interpreting Results"},{"location":"analysis/mashtree/#how-long-does-it-take","text":"This depends largely on the number of strains you want to use to create the tree. It can often be as quick as a few minutes.","title":"How long does it take?"},{"location":"analysis/mashtree/#what-can-go-wrong","text":"A few things can go wrong with this process: 1) Requested SEQIDs are not available. If we can't find some of the SEQIDs that you request, you will get a warning message informing you of it.","title":"What can go wrong?"},{"location":"analysis/mobsuite/","text":"MobSuite What does it do? MobSuite is a set of tools developed by the Public Health Agency of Canada for detecting plasmids in draft genome assemblies. This tool runs the mob_recon part of the suite, which first detects plasmids in the assemblies, and then performs typing on the plasmids. More details on MobSuite, including fairly extensive details on the output files produced, can be found at the MobSuite GitHub repository . How do I use it? Subject In the Subject field, put MobSuite . Spelling counts, but case sensitivity doesn't. Description All you need to put in the description is a list of SEQIDs you want to look for plasmids in, one per line. Example For an example MobSuite, see issue 12823 . Interpreting Results MobSuite outputs quite a few files. The zip file uploaded will have one folder for each SEQID requested. Within each folder, you will find a number of MobSuite output files. Of particular interest is the contig_report.txt file, which assigns each contig in your assembly as chromosomal or plasmid, and has typing info on plasmid-derived contigs. Full descriptions of all files can be found at the MobSuite GitHub repository . How long does it take? MobSuite works fairly quickly - it should take roughly one minute to analyze each SEQID that you have requested. What can go wrong? A few things can go wrong with this process: 1) Requested SEQIDs are not available. If we can't find some of the SEQIDs that you request, you will get a warning message informing you of it. 2) FTP timeout. Sometimes, particularly for larger requests, the upload of results to the FTP will run into problems and time out, in which case you will likely get an error message similar to this: [Errno 104] Connection reset by peer . If this occurs, you can either try again later, or, if you had a large request, try splitting it into a few smaller requests. If the problem persists, send us an email and we'll try to get it figured out.","title":"MobSuite"},{"location":"analysis/mobsuite/#mobsuite","text":"","title":"MobSuite"},{"location":"analysis/mobsuite/#what-does-it-do","text":"MobSuite is a set of tools developed by the Public Health Agency of Canada for detecting plasmids in draft genome assemblies. This tool runs the mob_recon part of the suite, which first detects plasmids in the assemblies, and then performs typing on the plasmids. More details on MobSuite, including fairly extensive details on the output files produced, can be found at the MobSuite GitHub repository .","title":"What does it do?"},{"location":"analysis/mobsuite/#how-do-i-use-it","text":"","title":"How do I use it?"},{"location":"analysis/mobsuite/#subject","text":"In the Subject field, put MobSuite . Spelling counts, but case sensitivity doesn't.","title":"Subject"},{"location":"analysis/mobsuite/#description","text":"All you need to put in the description is a list of SEQIDs you want to look for plasmids in, one per line.","title":"Description"},{"location":"analysis/mobsuite/#example","text":"For an example MobSuite, see issue 12823 .","title":"Example"},{"location":"analysis/mobsuite/#interpreting-results","text":"MobSuite outputs quite a few files. The zip file uploaded will have one folder for each SEQID requested. Within each folder, you will find a number of MobSuite output files. Of particular interest is the contig_report.txt file, which assigns each contig in your assembly as chromosomal or plasmid, and has typing info on plasmid-derived contigs. Full descriptions of all files can be found at the MobSuite GitHub repository .","title":"Interpreting Results"},{"location":"analysis/mobsuite/#how-long-does-it-take","text":"MobSuite works fairly quickly - it should take roughly one minute to analyze each SEQID that you have requested.","title":"How long does it take?"},{"location":"analysis/mobsuite/#what-can-go-wrong","text":"A few things can go wrong with this process: 1) Requested SEQIDs are not available. If we can't find some of the SEQIDs that you request, you will get a warning message informing you of it. 2) FTP timeout. Sometimes, particularly for larger requests, the upload of results to the FTP will run into problems and time out, in which case you will likely get an error message similar to this: [Errno 104] Connection reset by peer . If this occurs, you can either try again later, or, if you had a large request, try splitting it into a few smaller requests. If the problem persists, send us an email and we'll try to get it figured out.","title":"What can go wrong?"},{"location":"analysis/neartree/","text":"NearTree What does it do? NearTree will take a query SEQID, and then find the X closest strains to it out of a list specified by creating a phylogenetic tree and looking for the tips that are closest to your query strain. How do I use it? Subject In the Subject field, put NearTree . Spelling counts, but case sensitivity doesn't. Description The first line of the description should be the number of closest strains you want to your query strain. The second line must say query , and the third line should be the query SEQID you want to find close relatives for. The fourth line must say reference , and every line after that should be a SEQID you want to compare your query to. Example For an example NearTree, see issue 12940 . Interpreting Results Upon completion, you'll be given a list of the SEQIDs that are closest to the query specified. The most closely related will be listed first, with each SEQID listed after that becoming slightly more distant. How long does it take? This depends largely on the number of strains you want to use to create the tree. It can often be as quick as a few minutes if you have 10 or less strains, or take several hours if you want a larger (100 or so strain) tree. What can go wrong? A few things can go wrong with this process: 1) Requested SEQIDs are not available. If we can't find some of the SEQIDs that you request, you will get a warning message informing you of it. 2) Strains too far apart. NearTree will warn you if it thinks that the strains you want to make a tree from are not closely related enough. If you get this warning, you may want to consider creating a new issue while leaving out the strains it says are too far.","title":"NearTree"},{"location":"analysis/neartree/#neartree","text":"","title":"NearTree"},{"location":"analysis/neartree/#what-does-it-do","text":"NearTree will take a query SEQID, and then find the X closest strains to it out of a list specified by creating a phylogenetic tree and looking for the tips that are closest to your query strain.","title":"What does it do?"},{"location":"analysis/neartree/#how-do-i-use-it","text":"","title":"How do I use it?"},{"location":"analysis/neartree/#subject","text":"In the Subject field, put NearTree . Spelling counts, but case sensitivity doesn't.","title":"Subject"},{"location":"analysis/neartree/#description","text":"The first line of the description should be the number of closest strains you want to your query strain. The second line must say query , and the third line should be the query SEQID you want to find close relatives for. The fourth line must say reference , and every line after that should be a SEQID you want to compare your query to.","title":"Description"},{"location":"analysis/neartree/#example","text":"For an example NearTree, see issue 12940 .","title":"Example"},{"location":"analysis/neartree/#interpreting-results","text":"Upon completion, you'll be given a list of the SEQIDs that are closest to the query specified. The most closely related will be listed first, with each SEQID listed after that becoming slightly more distant.","title":"Interpreting Results"},{"location":"analysis/neartree/#how-long-does-it-take","text":"This depends largely on the number of strains you want to use to create the tree. It can often be as quick as a few minutes if you have 10 or less strains, or take several hours if you want a larger (100 or so strain) tree.","title":"How long does it take?"},{"location":"analysis/neartree/#what-can-go-wrong","text":"A few things can go wrong with this process: 1) Requested SEQIDs are not available. If we can't find some of the SEQIDs that you request, you will get a warning message informing you of it. 2) Strains too far apart. NearTree will warn you if it thinks that the strains you want to make a tree from are not closely related enough. If you get this warning, you may want to consider creating a new issue while leaving out the strains it says are too far.","title":"What can go wrong?"},{"location":"analysis/plasmidborneidentity/","text":"Plasmid-Borne Identity What does it do? Plasmid-Borne Identity performs GeneSeekr and MOB-suite analyses on FASTA files, and creates a report combining and summarising the outputs. MobSuite is a set of tools developed by the Public Health Agency of Canada for detecting plasmids in draft genome assemblies. This tool runs the mob_recon part of the suite, which first detects plasmids in the assemblies, and then performs typing on the plasmids. More details on MobSuite, including fairly extensive details on the output files produced, can be found at the MobSuite GitHub repository ). How do I use it? Subject In the Subject field, put plasmid_borne_identity . Spelling counts, but case sensitivity doesn't. Description All you need to put in the description is a list of SEQIDs you want to process, one per line. Attachments You are required to attach a FASTA-formatted file containing the gene(s) you wish analysed Optional arguments BLAST program. NOTE: GeneSeekr (and therefore PlasmidBorne Identity) does not check to see if your query or database are the appropriate molecule for the requested program. default is blastn You can select one of the following BLAST programs to use: blastn - nt query: nt db blastp - protein query: protein db blastx - translated nt query: protein db tblastn - protein query: translated nt db tblastx - translated nt query: translated nt db modify as follows: blast=tblastx Minimum cutoff for matches to be included in report. default is 70 modify as follows: cutoff=80 E-value cutoff default is 1E-05 modify as follows: evalue=1E-10 or evalue=0.01 Example For an example Plasmid-Borne Identity analysis, see issue 15644 . Interpreting Results Plasmid-Borne Identity will upload five separate reports once it is complete geneseekr_{BLAST_PROGRAM}.xlsx strain name and percent identity match for all query genes geneseekr_{BLAST_PROGRAM}_detailed.csv strain name, and BLAST summary information, including percent match, alignment length, subject length, e-value, number of positives, number of mismatches, and number of gaps for every gene geneseekr_{BLAST_PROGRAM}.csv same as geneseekr_{BLAST_PROGRAM}.csv same as, but in .csv format mob_recon_summary.csv shows any contigs that are predicted to be plasmids - note that all contigs calculated to be chromosomal are ignored. Location is the name of the predicted plasmid, while Contig is the name contig predicted to contain plasmid sequence. One plasmid can be composed of several contigs if it could not be circularised. plasmid_borne_summary.csv combines information from geneseekr_{BLAST_PROGRAM}.csv and mob_recon_summary.csv . The contigs of all predicted AMR genes from the geneseekr_{BLAST_PROGRAM}_detailed.csv report are used to search the mob_recon_summary report. The plasmid predictions, and well as all the incompatibility types for that plasmid are extracted, and used in the report. Location will specify either chromosome or the name of the predicted plasmid. How long does it take? GeneSeekr is very fast, while MOB-suite is relatively slow - it should take a few minutes to analyze each SEQID requested. What can go wrong? Requested SEQIDs are not available. If we can't find some of the SEQIDs that you request, you will get a warning message informing you of it. Issue with required FASTA-formatted targets file, including not attaching the file, or the FASTA formatting being incorrect Specifying the incorrect BLAST analysis program for the provided sequences e.g. blastp with a nucleotide query and db","title":"PlasmidBorneIdentity"},{"location":"analysis/plasmidborneidentity/#plasmid-borne-identity","text":"","title":"Plasmid-Borne Identity"},{"location":"analysis/plasmidborneidentity/#what-does-it-do","text":"Plasmid-Borne Identity performs GeneSeekr and MOB-suite analyses on FASTA files, and creates a report combining and summarising the outputs. MobSuite is a set of tools developed by the Public Health Agency of Canada for detecting plasmids in draft genome assemblies. This tool runs the mob_recon part of the suite, which first detects plasmids in the assemblies, and then performs typing on the plasmids. More details on MobSuite, including fairly extensive details on the output files produced, can be found at the MobSuite GitHub repository ).","title":"What does it do?"},{"location":"analysis/plasmidborneidentity/#how-do-i-use-it","text":"","title":"How do I use it?"},{"location":"analysis/plasmidborneidentity/#subject","text":"In the Subject field, put plasmid_borne_identity . Spelling counts, but case sensitivity doesn't.","title":"Subject"},{"location":"analysis/plasmidborneidentity/#description","text":"All you need to put in the description is a list of SEQIDs you want to process, one per line.","title":"Description"},{"location":"analysis/plasmidborneidentity/#attachments","text":"You are required to attach a FASTA-formatted file containing the gene(s) you wish analysed","title":"Attachments"},{"location":"analysis/plasmidborneidentity/#optional-arguments","text":"BLAST program. NOTE: GeneSeekr (and therefore PlasmidBorne Identity) does not check to see if your query or database are the appropriate molecule for the requested program. default is blastn You can select one of the following BLAST programs to use: blastn - nt query: nt db blastp - protein query: protein db blastx - translated nt query: protein db tblastn - protein query: translated nt db tblastx - translated nt query: translated nt db modify as follows: blast=tblastx Minimum cutoff for matches to be included in report. default is 70 modify as follows: cutoff=80 E-value cutoff default is 1E-05 modify as follows: evalue=1E-10 or evalue=0.01","title":"Optional arguments"},{"location":"analysis/plasmidborneidentity/#example","text":"For an example Plasmid-Borne Identity analysis, see issue 15644 .","title":"Example"},{"location":"analysis/plasmidborneidentity/#interpreting-results","text":"Plasmid-Borne Identity will upload five separate reports once it is complete geneseekr_{BLAST_PROGRAM}.xlsx strain name and percent identity match for all query genes geneseekr_{BLAST_PROGRAM}_detailed.csv strain name, and BLAST summary information, including percent match, alignment length, subject length, e-value, number of positives, number of mismatches, and number of gaps for every gene geneseekr_{BLAST_PROGRAM}.csv same as geneseekr_{BLAST_PROGRAM}.csv same as, but in .csv format mob_recon_summary.csv shows any contigs that are predicted to be plasmids - note that all contigs calculated to be chromosomal are ignored. Location is the name of the predicted plasmid, while Contig is the name contig predicted to contain plasmid sequence. One plasmid can be composed of several contigs if it could not be circularised. plasmid_borne_summary.csv combines information from geneseekr_{BLAST_PROGRAM}.csv and mob_recon_summary.csv . The contigs of all predicted AMR genes from the geneseekr_{BLAST_PROGRAM}_detailed.csv report are used to search the mob_recon_summary report. The plasmid predictions, and well as all the incompatibility types for that plasmid are extracted, and used in the report. Location will specify either chromosome or the name of the predicted plasmid.","title":"Interpreting Results"},{"location":"analysis/plasmidborneidentity/#how-long-does-it-take","text":"GeneSeekr is very fast, while MOB-suite is relatively slow - it should take a few minutes to analyze each SEQID requested.","title":"How long does it take?"},{"location":"analysis/plasmidborneidentity/#what-can-go-wrong","text":"Requested SEQIDs are not available. If we can't find some of the SEQIDs that you request, you will get a warning message informing you of it. Issue with required FASTA-formatted targets file, including not attaching the file, or the FASTA formatting being incorrect Specifying the incorrect BLAST analysis program for the provided sequences e.g. blastp with a nucleotide query and db","title":"What can go wrong?"},{"location":"analysis/pointfinder/","text":"PointFinder What does it do? PointFinder is a program complementary to ResFinder developed by the Danish Center for Genomic Epidemiology for detection of antibiotic resistance in draft genome assemblies. Unlike ResFinder, PointFinder looks for point mutations that are known to confer antibiotic resistance. How do I use it? Subject In the Subject field, put PointFinder . Spelling counts, but case sensitivity doesn't. Description All you need to put in the description is a list of SEQIDs you want to detect AMR in, one per line. Note that PointFinder is limited to detecting mutations in a few genera: Campylobacter Escherichia Mycobacterium Neisseria Salmonella Our PointFinder automator will automatically determine the genus of your requested SEQIDs, and will not attempt to analyze any SEQIDs that are not from one of these genera. Example For an example PointFinder, see issue 12933 . Interpreting Results PointFinder will upload a zip file called pointfinder_output.zip . Within this folder, you will find 3 files per SEQID: Note: Any SEQIDs that had no resistance detected will not have any files uploaded SEQID_blastn_PointFinder_prediction.txt: Has each antibiotic for with known mutations for the genus of interest. Anything with a 0 had no detected mutations, anything other had predicted point mutation(s) for that antibiotic. SEQID_blastn_PointFinder_results.txt: A file listing the genes that had mutations, what they were, and what resistance those mutations confer. SEQID_blastn_PointFinder_table.txt: Much the same as the _results.txt file, but also lists known AMR genes that did not have point mutations. How long does it take? PointFinder should take 30 seconds to 1 minutes for analysis of each sample. What can go wrong? 1) Requested SEQIDs are not available: If we can't find some of the SEQIDs that you request, you will get a warning message informing you of it. 2) Can't run on requested genera: If the SEQIDs you request are not one of the genera that PointFinder works on, you will get a message saying so. PointFinder will still run on any SEQIDs specified that are from the correct genera.","title":"PointFinder"},{"location":"analysis/pointfinder/#pointfinder","text":"","title":"PointFinder"},{"location":"analysis/pointfinder/#what-does-it-do","text":"PointFinder is a program complementary to ResFinder developed by the Danish Center for Genomic Epidemiology for detection of antibiotic resistance in draft genome assemblies. Unlike ResFinder, PointFinder looks for point mutations that are known to confer antibiotic resistance.","title":"What does it do?"},{"location":"analysis/pointfinder/#how-do-i-use-it","text":"","title":"How do I use it?"},{"location":"analysis/pointfinder/#subject","text":"In the Subject field, put PointFinder . Spelling counts, but case sensitivity doesn't.","title":"Subject"},{"location":"analysis/pointfinder/#description","text":"All you need to put in the description is a list of SEQIDs you want to detect AMR in, one per line. Note that PointFinder is limited to detecting mutations in a few genera: Campylobacter Escherichia Mycobacterium Neisseria Salmonella Our PointFinder automator will automatically determine the genus of your requested SEQIDs, and will not attempt to analyze any SEQIDs that are not from one of these genera.","title":"Description"},{"location":"analysis/pointfinder/#example","text":"For an example PointFinder, see issue 12933 .","title":"Example"},{"location":"analysis/pointfinder/#interpreting-results","text":"PointFinder will upload a zip file called pointfinder_output.zip . Within this folder, you will find 3 files per SEQID: Note: Any SEQIDs that had no resistance detected will not have any files uploaded SEQID_blastn_PointFinder_prediction.txt: Has each antibiotic for with known mutations for the genus of interest. Anything with a 0 had no detected mutations, anything other had predicted point mutation(s) for that antibiotic. SEQID_blastn_PointFinder_results.txt: A file listing the genes that had mutations, what they were, and what resistance those mutations confer. SEQID_blastn_PointFinder_table.txt: Much the same as the _results.txt file, but also lists known AMR genes that did not have point mutations.","title":"Interpreting Results"},{"location":"analysis/pointfinder/#how-long-does-it-take","text":"PointFinder should take 30 seconds to 1 minutes for analysis of each sample.","title":"How long does it take?"},{"location":"analysis/pointfinder/#what-can-go-wrong","text":"1) Requested SEQIDs are not available: If we can't find some of the SEQIDs that you request, you will get a warning message informing you of it. 2) Can't run on requested genera: If the SEQIDs you request are not one of the genera that PointFinder works on, you will get a message saying so. PointFinder will still run on any SEQIDs specified that are from the correct genera.","title":"What can go wrong?"},{"location":"analysis/primerfinder/","text":"PrimerFinder What does it do? The PrimerFinder performs in silico PCR analyses on FASTA and FASTQ formatted files. There are two different modules: PrimerFinder Legacy computes primer binding and amplicon statistics on FASTA formatted files using the now retired ePCR suite of tools from NCBI. PrimerFinder Supremacy is able to process FASTA- and FASTQ-formatted files. If using FASTQ files, BBMap is employed to bait out reads containing primer sequences. A second round of baiting is performed using the previously-baited reads. Contigs are assembled by SPAdes with only the baited reads. For both FASTA-formatted files and contigs assembled from FASTQ-formatted files, primers are BLASTed against contigs, and outputs are parsed to determine primer binding, and amplicon statistics How do I use it? Subject In the Subject field, put primer_finder . Spelling counts, but case sensitivity does not. Description In the Description field, you must provide: Required Components program=requested_program acceptable programs are legacy and supremacy analysis=requested_analysis acceptable analyses are custom and vtyper custom analyses require a FASTA-formatted file of primers you wish to use (see Attachments section for additional details) vtyper analyses will use the primer set from the vtyper tool a list of SEQIDs (one per line) Optional Components In order to customise your PrimerFinder analyses, several settings can be optionally modified Number of mismatches allowed. default is 2 options are 0 , 1 , 2 , 3 . Anything else will return an error modify as follows: mismatches=1 Format of sequence files to use (note that PrimerFinder legacy will still use FASTA-formatted files even if you try to specify FASTQ) default is fasta options are: fasta and fastq modify as follows: format=fastq K-mer size to use for SPAdes assembly default is 55,77,99,127 either provide and integer, e.g. 33 , or a comma-separated list, e.g. 21,33,55 modify as follows: kmersize=33 OR kmersize=21,33,55 Export amplicons in PrimerFinder Legacy (amplicons are created by default by PrimerFinder Supremacy) default is False modify as follows: exportamplicons Attachments For custom analyses, you are required to attach a FASTA-formatted file containing the primer set(s) you wish analysed. The file must have the following format: >gene1-F seq >gene1-R seq >gene2-F1 seq >gene2-R1 seq >gene2-F2 seq >gene2-R2 seq ..... You are allowed to use IUPAC degenerate bases in this file. Please don't add too many degenerate bases, as the number of primers combinations can increase quickly. # Dictionary of degenerate IUPAC codes iupac = { 'R': ['A', 'G'], 'Y': ['C', 'T'], 'S': ['C', 'G'], 'W': ['A', 'T'], 'K': ['G', 'T'], 'M': ['A', 'C'], 'B': ['C', 'G', 'T'], 'D': ['A', 'G', 'T'], 'H': ['A', 'C', 'T'], 'V': ['A', 'C', 'G'], 'N': ['A', 'C', 'G', 'T'], '-': ['-'] } Examples Example PrimerFinder analyses: PrimerFinder Legacy, custom analyses issue 16084 PrimerFinder Legacy, vtyper analyses issue 16085 PrimerFinder Supremacy, custom analyses, FASTA format issue 16086 PrimerFinder Supremacy, custom analyses, FASTQ format issue 16087 Interpreting Results PrimerFinder Legacy PrimerFinder Legacy will upload ePCR_report.csv , which contains the strain name, gene name as parsed from the primer file, location of the calculated amplicon, the size of the amplicon, the name of the contig on which the amplicon was found, the total number of mismatches between the primer set and the target sequence, and the primers used to create the amplicon. Here's an example created using the example primer file from the Attachments section of Redmine issue 16084 Sample Gene GenomeLocation AmpliconSize Contig TotalMismatches PrimerSet 2014-SEQ-1390 gene1 30506-30699 194 contig_1 0 gene1_0_0 2014-SEQ-1390 gene2 476139-476423 285 contig_32 1 gene2_1_1 Note that the way the primer set is numbered is based on the number of primer sets with the same gene name: gene1 had one primer set, gene1-F and gene1-R , and these are represented as gene1_0_0 . There were two primer sets for gene2 , and in this example gene2-F2 and gene2-R2 annealed (with one mismatch) If requested, amplicon sequences for each match will be created. Using the same example as above 2014-SEQ-1390_amplicons.fa will contain: >2014-SEQ-1390_contig_1_476139_476423_gene1_0_0 amplicon..... >2014-SEQ-1390_contig_32_27409_27668_gene2_1_1 amplicon..... PrimerFinder Supremacy PrimerFinder Supremacy will generate ePCR_report.csv within the consolidated_report folder. This report contains the following fields: strain name, gene name parsed from the primer file, location of the amplicon, size of the amplicon, name of contig on which the amplicon was found, the forward and reverse primers used to create the amplicon, the number of mismatches for the forward and reverse primers. Here's an example created using the example primer file from the Attachments section of Redmine issue 16084 Sample Gene GenomeLocation AmpliconSize Contig ForwardPrimers ReversePrimers ForwardMismatches ReverseMismatches 2014-SEQ-1390 gene1 30506-30699 194 contig_1 gene1-F_0 gene1-R_0 0 0 2014-SEQ-1390 gene2 476139-476423 285 contig_32 gene2-F2_0 gene2-R2_0 1 0 Note that the primer names have _0 appended to the end. In the case of IUPAC bases being present in the primer sequence, this number will be incremented for each primer created to satisfy all possible combinations. Amplicon sequences are always included. Using the same example as above, 2014-SEQ-1390_amplicons.fa will contain: >2014-SEQ-1390_contig_1_gene1-F_0_gene1-R_0 amplicon >2014-SEQ-1390_contig_32_gene2-F2_0_gene2-R2_0 amplicon Raw BLAST results are also uploaded. In the example above, 2014-SEQ-1390_rawresults.csv will contain: qseqid sseqid positive mismatch gaps evalue bitscore slen length qstart qend qseq sstart send sseq contig_1 gene1-R_0 25 0 0 3.07E-07 50.1 25 25 476399 476423 TACGGTTCCTTTGACGGTGCGATGA 25 1 TACGGTTCCTTTGACGGTGCGATGA contig_1 gene1-F_0 25 0 0 3.07E-07 50.1 25 25 476139 476163 GTGAAATTATCGCCACGTTCGGGCA 1 25 GTGAAATTATCGCCACGTTCGGGCA contig_32 gene2-F2_0 20 1 0 4.41E-06 42.1 21 21 27648 27668 CGCCTTATTATACGACCAAAG 21 1 CGCCTTATTTTACGACCAAAG contig_32 gene2-R2_0 20 0 0 1.74E-05 40.1 20 20 27409 27428 TGCCCAAAGCAGAGAGATTC 1 20 TGCCCAAAGCAGAGAGATTC How long does it take? PrimerFinder Legacy and PrimerFinder Supremacy on FASTA mode are very fast (seconds per sample), while PrimerFinder Supremacy FASTQ mode is relatively slow (a few minutes per sample) What can go wrong? Requested SEQIDs are not available. Not including the program=requested_program component, or requesting an unsupported program Not including the analysis=requested_analysis component, or requesting an unsupported analysis Specifying an unsupported number of mismatches Incorrectly formatted kmersize Attaching an incorrectly formatted primer file, or not including a primer file for custom analyses ? If anything goes wrong, an error message explaining the error should be returned.","title":"PrimerFinder"},{"location":"analysis/primerfinder/#primerfinder","text":"","title":"PrimerFinder"},{"location":"analysis/primerfinder/#what-does-it-do","text":"The PrimerFinder performs in silico PCR analyses on FASTA and FASTQ formatted files. There are two different modules: PrimerFinder Legacy computes primer binding and amplicon statistics on FASTA formatted files using the now retired ePCR suite of tools from NCBI. PrimerFinder Supremacy is able to process FASTA- and FASTQ-formatted files. If using FASTQ files, BBMap is employed to bait out reads containing primer sequences. A second round of baiting is performed using the previously-baited reads. Contigs are assembled by SPAdes with only the baited reads. For both FASTA-formatted files and contigs assembled from FASTQ-formatted files, primers are BLASTed against contigs, and outputs are parsed to determine primer binding, and amplicon statistics","title":"What does it do?"},{"location":"analysis/primerfinder/#how-do-i-use-it","text":"","title":"How do I use it?"},{"location":"analysis/primerfinder/#subject","text":"In the Subject field, put primer_finder . Spelling counts, but case sensitivity does not.","title":"Subject"},{"location":"analysis/primerfinder/#description","text":"In the Description field, you must provide: Required Components program=requested_program acceptable programs are legacy and supremacy analysis=requested_analysis acceptable analyses are custom and vtyper custom analyses require a FASTA-formatted file of primers you wish to use (see Attachments section for additional details) vtyper analyses will use the primer set from the vtyper tool a list of SEQIDs (one per line) Optional Components In order to customise your PrimerFinder analyses, several settings can be optionally modified Number of mismatches allowed. default is 2 options are 0 , 1 , 2 , 3 . Anything else will return an error modify as follows: mismatches=1 Format of sequence files to use (note that PrimerFinder legacy will still use FASTA-formatted files even if you try to specify FASTQ) default is fasta options are: fasta and fastq modify as follows: format=fastq K-mer size to use for SPAdes assembly default is 55,77,99,127 either provide and integer, e.g. 33 , or a comma-separated list, e.g. 21,33,55 modify as follows: kmersize=33 OR kmersize=21,33,55 Export amplicons in PrimerFinder Legacy (amplicons are created by default by PrimerFinder Supremacy) default is False modify as follows: exportamplicons","title":"Description"},{"location":"analysis/primerfinder/#attachments","text":"For custom analyses, you are required to attach a FASTA-formatted file containing the primer set(s) you wish analysed. The file must have the following format: >gene1-F seq >gene1-R seq >gene2-F1 seq >gene2-R1 seq >gene2-F2 seq >gene2-R2 seq ..... You are allowed to use IUPAC degenerate bases in this file. Please don't add too many degenerate bases, as the number of primers combinations can increase quickly. # Dictionary of degenerate IUPAC codes iupac = { 'R': ['A', 'G'], 'Y': ['C', 'T'], 'S': ['C', 'G'], 'W': ['A', 'T'], 'K': ['G', 'T'], 'M': ['A', 'C'], 'B': ['C', 'G', 'T'], 'D': ['A', 'G', 'T'], 'H': ['A', 'C', 'T'], 'V': ['A', 'C', 'G'], 'N': ['A', 'C', 'G', 'T'], '-': ['-'] }","title":"Attachments"},{"location":"analysis/primerfinder/#examples","text":"Example PrimerFinder analyses: PrimerFinder Legacy, custom analyses issue 16084 PrimerFinder Legacy, vtyper analyses issue 16085 PrimerFinder Supremacy, custom analyses, FASTA format issue 16086 PrimerFinder Supremacy, custom analyses, FASTQ format issue 16087","title":"Examples"},{"location":"analysis/primerfinder/#interpreting-results","text":"PrimerFinder Legacy PrimerFinder Legacy will upload ePCR_report.csv , which contains the strain name, gene name as parsed from the primer file, location of the calculated amplicon, the size of the amplicon, the name of the contig on which the amplicon was found, the total number of mismatches between the primer set and the target sequence, and the primers used to create the amplicon. Here's an example created using the example primer file from the Attachments section of Redmine issue 16084 Sample Gene GenomeLocation AmpliconSize Contig TotalMismatches PrimerSet 2014-SEQ-1390 gene1 30506-30699 194 contig_1 0 gene1_0_0 2014-SEQ-1390 gene2 476139-476423 285 contig_32 1 gene2_1_1 Note that the way the primer set is numbered is based on the number of primer sets with the same gene name: gene1 had one primer set, gene1-F and gene1-R , and these are represented as gene1_0_0 . There were two primer sets for gene2 , and in this example gene2-F2 and gene2-R2 annealed (with one mismatch) If requested, amplicon sequences for each match will be created. Using the same example as above 2014-SEQ-1390_amplicons.fa will contain: >2014-SEQ-1390_contig_1_476139_476423_gene1_0_0 amplicon..... >2014-SEQ-1390_contig_32_27409_27668_gene2_1_1 amplicon..... PrimerFinder Supremacy PrimerFinder Supremacy will generate ePCR_report.csv within the consolidated_report folder. This report contains the following fields: strain name, gene name parsed from the primer file, location of the amplicon, size of the amplicon, name of contig on which the amplicon was found, the forward and reverse primers used to create the amplicon, the number of mismatches for the forward and reverse primers. Here's an example created using the example primer file from the Attachments section of Redmine issue 16084 Sample Gene GenomeLocation AmpliconSize Contig ForwardPrimers ReversePrimers ForwardMismatches ReverseMismatches 2014-SEQ-1390 gene1 30506-30699 194 contig_1 gene1-F_0 gene1-R_0 0 0 2014-SEQ-1390 gene2 476139-476423 285 contig_32 gene2-F2_0 gene2-R2_0 1 0 Note that the primer names have _0 appended to the end. In the case of IUPAC bases being present in the primer sequence, this number will be incremented for each primer created to satisfy all possible combinations. Amplicon sequences are always included. Using the same example as above, 2014-SEQ-1390_amplicons.fa will contain: >2014-SEQ-1390_contig_1_gene1-F_0_gene1-R_0 amplicon >2014-SEQ-1390_contig_32_gene2-F2_0_gene2-R2_0 amplicon Raw BLAST results are also uploaded. In the example above, 2014-SEQ-1390_rawresults.csv will contain: qseqid sseqid positive mismatch gaps evalue bitscore slen length qstart qend qseq sstart send sseq contig_1 gene1-R_0 25 0 0 3.07E-07 50.1 25 25 476399 476423 TACGGTTCCTTTGACGGTGCGATGA 25 1 TACGGTTCCTTTGACGGTGCGATGA contig_1 gene1-F_0 25 0 0 3.07E-07 50.1 25 25 476139 476163 GTGAAATTATCGCCACGTTCGGGCA 1 25 GTGAAATTATCGCCACGTTCGGGCA contig_32 gene2-F2_0 20 1 0 4.41E-06 42.1 21 21 27648 27668 CGCCTTATTATACGACCAAAG 21 1 CGCCTTATTTTACGACCAAAG contig_32 gene2-R2_0 20 0 0 1.74E-05 40.1 20 20 27409 27428 TGCCCAAAGCAGAGAGATTC 1 20 TGCCCAAAGCAGAGAGATTC","title":"Interpreting Results"},{"location":"analysis/primerfinder/#how-long-does-it-take","text":"PrimerFinder Legacy and PrimerFinder Supremacy on FASTA mode are very fast (seconds per sample), while PrimerFinder Supremacy FASTQ mode is relatively slow (a few minutes per sample)","title":"How long does it take?"},{"location":"analysis/primerfinder/#what-can-go-wrong","text":"Requested SEQIDs are not available. Not including the program=requested_program component, or requesting an unsupported program Not including the analysis=requested_analysis component, or requesting an unsupported analysis Specifying an unsupported number of mismatches Incorrectly formatted kmersize Attaching an incorrectly formatted primer file, or not including a primer file for custom analyses ? If anything goes wrong, an error message explaining the error should be returned.","title":"What can go wrong?"},{"location":"analysis/prokka/","text":"Prokka What does it do? Prokka annotates genomes, letting you know what genes and other features are present. If you want to learn more about it, check out the prokka publication. How do I use it? Subject In the Subject field, put Prokka . Spelling counts, but case sensitivity doesn't. Description All you need to put in the description is a list of SEQIDs you want to process, one per line. Example For an example Prokka, see issue 15195 . Interpreting Results Prokka will output a lot of files for each genome you give it - you can find a quick description of each file here . Of particular interest are the .gff and .gbk files. How long does it take? Prokka isn't the quickest thing around - expect it to take 2 to 3 minutes for each genome you give it. What can go wrong? Requested SEQIDs are not available. If we can't find some of the SEQIDs that you request, you will get a warning message informing you of it. FTP Upload issues. Since the files prokka produces are fairly big, the need to be uploaded to an FTP site. We'll sometimes have connection issues that stop uploads from happening properly. If this is the case, you'll get a message telling you to try again later. FTP connection issues usually only persist for a few hours at a time.","title":"Prokka"},{"location":"analysis/prokka/#prokka","text":"","title":"Prokka"},{"location":"analysis/prokka/#what-does-it-do","text":"Prokka annotates genomes, letting you know what genes and other features are present. If you want to learn more about it, check out the prokka publication.","title":"What does it do?"},{"location":"analysis/prokka/#how-do-i-use-it","text":"","title":"How do I use it?"},{"location":"analysis/prokka/#subject","text":"In the Subject field, put Prokka . Spelling counts, but case sensitivity doesn't.","title":"Subject"},{"location":"analysis/prokka/#description","text":"All you need to put in the description is a list of SEQIDs you want to process, one per line.","title":"Description"},{"location":"analysis/prokka/#example","text":"For an example Prokka, see issue 15195 .","title":"Example"},{"location":"analysis/prokka/#interpreting-results","text":"Prokka will output a lot of files for each genome you give it - you can find a quick description of each file here . Of particular interest are the .gff and .gbk files.","title":"Interpreting Results"},{"location":"analysis/prokka/#how-long-does-it-take","text":"Prokka isn't the quickest thing around - expect it to take 2 to 3 minutes for each genome you give it.","title":"How long does it take?"},{"location":"analysis/prokka/#what-can-go-wrong","text":"Requested SEQIDs are not available. If we can't find some of the SEQIDs that you request, you will get a warning message informing you of it. FTP Upload issues. Since the files prokka produces are fairly big, the need to be uploaded to an FTP site. We'll sometimes have connection issues that stop uploads from happening properly. If this is the case, you'll get a message telling you to try again later. FTP connection issues usually only persist for a few hours at a time.","title":"What can go wrong?"},{"location":"analysis/psortb/","text":"PSORTb What does it do? PSORTb is a program developed by the Brinkman lab at Simon Fraser University - it attempts to figure out what the subcellular location of proteins might be. If you wnat to know more, you can check out the PSORTb publication or the PSORTb documentation . How do I use it? Subject In the Subject field, put PSORTb . Spelling counts, but case sensitivity doesn't. Description All you need to put in the description is a list of SEQIDs you want to find protein localizations for, one per line. Example For an example PSORTb, see issue 16061 . Interpreting Results PSORTb will upload a zip file - this will contain FASTA-formatted proteins as predicted and annotated by prokka, and a text file for each SEQID that has the predicted subcellular localization for each protein. How long does it take? PSORTb is pretty slow - expect it to take at least 20 to 30 minutes per SEQID requested. What can go wrong? 1) Requested SEQIDs are not available: If we can't find some of the SEQIDs that you request, you will get a warning message informing you of it. 2) PSORTb needs to know whether a strain is gram positive or gram negative - you'll see that each of the text files you get have either grampos or gramneg in them, depending on whether or not we predicted that isolate to be gram positive or gram negative. We're fairly sure that our classification is fairly robust, but there might be exceptions. If you put an isolate through and it's wrongly classified, email andrew.low@canada.ca and we'll get it sorted out!","title":"PSORTb"},{"location":"analysis/psortb/#psortb","text":"","title":"PSORTb"},{"location":"analysis/psortb/#what-does-it-do","text":"PSORTb is a program developed by the Brinkman lab at Simon Fraser University - it attempts to figure out what the subcellular location of proteins might be. If you wnat to know more, you can check out the PSORTb publication or the PSORTb documentation .","title":"What does it do?"},{"location":"analysis/psortb/#how-do-i-use-it","text":"","title":"How do I use it?"},{"location":"analysis/psortb/#subject","text":"In the Subject field, put PSORTb . Spelling counts, but case sensitivity doesn't.","title":"Subject"},{"location":"analysis/psortb/#description","text":"All you need to put in the description is a list of SEQIDs you want to find protein localizations for, one per line.","title":"Description"},{"location":"analysis/psortb/#example","text":"For an example PSORTb, see issue 16061 .","title":"Example"},{"location":"analysis/psortb/#interpreting-results","text":"PSORTb will upload a zip file - this will contain FASTA-formatted proteins as predicted and annotated by prokka, and a text file for each SEQID that has the predicted subcellular localization for each protein.","title":"Interpreting Results"},{"location":"analysis/psortb/#how-long-does-it-take","text":"PSORTb is pretty slow - expect it to take at least 20 to 30 minutes per SEQID requested.","title":"How long does it take?"},{"location":"analysis/psortb/#what-can-go-wrong","text":"1) Requested SEQIDs are not available: If we can't find some of the SEQIDs that you request, you will get a warning message informing you of it. 2) PSORTb needs to know whether a strain is gram positive or gram negative - you'll see that each of the text files you get have either grampos or gramneg in them, depending on whether or not we predicted that isolate to be gram positive or gram negative. We're fairly sure that our classification is fairly robust, but there might be exceptions. If you put an isolate through and it's wrongly classified, email andrew.low@canada.ca and we'll get it sorted out!","title":"What can go wrong?"},{"location":"analysis/pyseer/","text":"GWAS-pyseer What does it do? pyseer is a tool for microbial-pangenome wide association studies (mGWAS). It is the reimplementation of seer . pyseer allows one to analyse a set of genomes for genetic variation associated with bacterial phenotypes (such as antibiotic resistance, virulence, and host specificity). It is strongly suggested that you check out the pyseer publication and pyseer documentation before use to determine which analysis is appropriate for your dataset. If used for publication, dont forget to cite Lees et al., 2018! This redmine-automator will allow you to conduct a mGWAS using sequence data stored on the OLC-CFIA cluster. There are a few different options available, but if you would like another customisable option added to the automator (see pyseer documentation ) please contact an OLC-bioinformatician. How do I use it? Subject In the Subject field, put pyseer . Spelling counts, but case sensitivity doesnt. Description Required Components In the Description field, you must include an analysistype as follows: analysistype=requested_analysis : kmer : Will detect and count k-mers in selected dataset, then use k-mers as a variant to test both short variation and gene presence/absence. The k-mers will be annotated by the redmine automator using prokka If kmer analysis is selected, it is also suggested that you upload a references.txt file (see description below). Roary : Roary will use the gene_presence_absence.Rtab file from a previous Roary analysis. To use this analysis type, you must first run a roary analysis using the OLC Redmine Automator. See the roary docs for details. You must then include roaryissue=redmine_issue_id , where redmine_issue_id is the biorequest number from the roary analysis previously run (this will copy the gene_presence_absence.Rtab file from the previous issue to the current pyseer biorequest). Please note: the gene_presence_absence.Rtab files are only retained by the OLC system for requests made after 24-11-2021. snv (currently under development): Will test the association of SNPs mapped to a reference. You must attach a traits.tsv file. It must be named traits.tsv for the automator to work. This file must contain the SEQ-IDs in the first column, and trait (numerical) in the second column. The automator defaults to binary for traits (1,0 - for presence,absence). However, it is possible to use continuous data if you also include continuous=True in the description (default is continuous=False ). You may also include NA if trait was not determined for that sequence. You must also include a list of SEQIDs one per line. Optional Components In order to customise your pyseer analysis, several settings can be modified. These settings will depend on which options were selected. Population structure The first step of pyseer is to estimate the population structure. This can be done a number of ways. mash (default): mash is the default distance/phylogeny used by the pyseer automator. uses mash sketch to produce pairwise distance matrix, then calculate distances between all pairs of samples using mash dist. a mash tree is also produced, and this phylogeny will be used to create the kinship matrix if the linearmixed association model is chosen bcgtree : if bcgtree is selected, you can change a number of parameters. Please see the OLC Redmine Automator documentation for bcgtree docs for a list of options. bcgtree phylogeny creation will take a while, and required time will increased with larger datasets. It is suggested you run a bcgtree biorequest separately for large datasets. a phylogeny is output by bcgtree (RAxML_bestTree.final), which is then used to calculate distances between samples, and/or kinship matrix creation. custom : if distance=custom is selected, a phylogeny tree file in newick format named tree.newick must also be attached to the request. This tree can be created however you'd like, but must be named tree.newick and the tree tip-labels must be the same as the SEQIDs in the pyseer request the uploaded phylogeny will then be used for distance calculations between pairs of samples, and/or kinship matrix creation. Association models Please review the pyseer documentation for a description of models. The current association models available for the pyseer automator include: fixed : The patristic distances between all samples are used A GLM is run on each variant linearmixed : A linear mixed model (LMM) of fixed and random effects is fitted to the data The selected phylogeny will be used to calculate pairwise distances ( note :mash may be less accurate than other phylogenies). Calculates the similarities between sequences based on the shared branch length between each pair's most recent common ancestor and the root. References file for k-mer analysis If a references file ( references.txt ) is not uploaded to the redmine request, one will be automatically generated. The benefit of uploading the references file is that you can select a few trusted reference sequences for the annotations. Otherwise, all sequences in the request will be included as \"reference\" quality. The references are used first, and allow a close match of a k-mer. The drafts are used second, and require an exact match of the k-mer. This references.txt is a tab-separated file containing the sequence filename, annotation filename, and type of the references to be used (there are no headers required): XXXX-SEQ-0001.fasta XXXX-SEQ-0001.gff ref XXXX-MIN-0001.fasta XXXX-MIN-0001.gff ref XXXX-SEQ-0002.fasta XXXX-SEQ-0002.gff draft XXXX-SEQ-0340.fasta XXXX-SEQ-0340.gff draft Example For an example pyseer issue see issue 25083 . NOTE : the output files for these issues no longer exist on the ftp server. Interpreting Results The pyseer automator will upload links to the ftp for files called pyseer_output.zip , and possibly prokka_output.zip and bcgtree_output.zip depending on selected options. The pyseer_output.zip will contain all of the pyseer outputs including the tree files and distance matrices. See pyseer tutorial kmer analysis will output pyseer_kmers.txt , the significant kmers ( significant_kmers.txt ), annotated_kmers.txt , and gene_hits.txt which is a summary file of the annotated k-mers found by pyseer. the summarised annotated gene_hits.txt file can be graphed using R. See the pyseer tutorial roary analysis will output a pyseer_COGs.txt (COG = clusters of orthologous groups) file which contains the COGs not filtered out by pyseer. The first column in this file will contain the gene name (from the roary output gene_presence_absence.Rtab file) If high-bse or bad-chisq are listed in the last column, there may be a high effect size/low frequency result ( high-bse ) or MAF filter may not be stringent enough ( bad-chisq ). If analysistype=kmer , and/or distance=bcgtree were selected, the automator will upload a link to the ftp prokka_output.zip . This contains all of the outputs from prokka. Prokka will output a lot of files for each genome you give it - you can find a quick description of each file here . Of particular interest are the .gff files, which pyseer uses for annotations. If distance=bcgtree was used for distance/phylogeny, the bcgtree_output.zip file contains all of the outputs from bcgTree. The alignment files, and gene-id files output by bcgtree can be found in subfolders in the zip file. The most interesting outputs from bcgtree are the RAxML files. These files conaint the phylogenetic trees output by bcgTree: How long does it take? This will depend on the number of sequences requested, and the analysis type. K-mer analysis will take hours in order to count the number of k-mers in a large number of sequences. Prokka isnt the quickest thing around - expect it to take 2 to 3 minutes for each genome you give it. The bcgTree pipeline time will depend on the number of sequences and bootstraps requested. If a large number of sequences is being analysed, it is suggested you create a separate issue for phylogeny generation with bcgtree (however this is yet to be tested). What can go wrong? Requested SEQIDs are not available. If we cant find some of the SEQIDs that you request, you will get a warning message informing you of it. A traits.tsv file was not uploaded to redmine. You will get a warning message informing you to re-submit the request.","title":"GWAS-pyseer"},{"location":"analysis/pyseer/#gwas-pyseer","text":"","title":"GWAS-pyseer"},{"location":"analysis/pyseer/#what-does-it-do","text":"pyseer is a tool for microbial-pangenome wide association studies (mGWAS). It is the reimplementation of seer . pyseer allows one to analyse a set of genomes for genetic variation associated with bacterial phenotypes (such as antibiotic resistance, virulence, and host specificity). It is strongly suggested that you check out the pyseer publication and pyseer documentation before use to determine which analysis is appropriate for your dataset. If used for publication, dont forget to cite Lees et al., 2018! This redmine-automator will allow you to conduct a mGWAS using sequence data stored on the OLC-CFIA cluster. There are a few different options available, but if you would like another customisable option added to the automator (see pyseer documentation ) please contact an OLC-bioinformatician.","title":"What does it do?"},{"location":"analysis/pyseer/#how-do-i-use-it","text":"","title":"How do I use it?"},{"location":"analysis/pyseer/#subject","text":"In the Subject field, put pyseer . Spelling counts, but case sensitivity doesnt.","title":"Subject"},{"location":"analysis/pyseer/#description","text":"","title":"Description"},{"location":"analysis/pyseer/#required-components","text":"In the Description field, you must include an analysistype as follows: analysistype=requested_analysis : kmer : Will detect and count k-mers in selected dataset, then use k-mers as a variant to test both short variation and gene presence/absence. The k-mers will be annotated by the redmine automator using prokka If kmer analysis is selected, it is also suggested that you upload a references.txt file (see description below). Roary : Roary will use the gene_presence_absence.Rtab file from a previous Roary analysis. To use this analysis type, you must first run a roary analysis using the OLC Redmine Automator. See the roary docs for details. You must then include roaryissue=redmine_issue_id , where redmine_issue_id is the biorequest number from the roary analysis previously run (this will copy the gene_presence_absence.Rtab file from the previous issue to the current pyseer biorequest). Please note: the gene_presence_absence.Rtab files are only retained by the OLC system for requests made after 24-11-2021. snv (currently under development): Will test the association of SNPs mapped to a reference. You must attach a traits.tsv file. It must be named traits.tsv for the automator to work. This file must contain the SEQ-IDs in the first column, and trait (numerical) in the second column. The automator defaults to binary for traits (1,0 - for presence,absence). However, it is possible to use continuous data if you also include continuous=True in the description (default is continuous=False ). You may also include NA if trait was not determined for that sequence. You must also include a list of SEQIDs one per line.","title":"Required Components"},{"location":"analysis/pyseer/#optional-components","text":"In order to customise your pyseer analysis, several settings can be modified. These settings will depend on which options were selected.","title":"Optional Components"},{"location":"analysis/pyseer/#population-structure","text":"The first step of pyseer is to estimate the population structure. This can be done a number of ways. mash (default): mash is the default distance/phylogeny used by the pyseer automator. uses mash sketch to produce pairwise distance matrix, then calculate distances between all pairs of samples using mash dist. a mash tree is also produced, and this phylogeny will be used to create the kinship matrix if the linearmixed association model is chosen bcgtree : if bcgtree is selected, you can change a number of parameters. Please see the OLC Redmine Automator documentation for bcgtree docs for a list of options. bcgtree phylogeny creation will take a while, and required time will increased with larger datasets. It is suggested you run a bcgtree biorequest separately for large datasets. a phylogeny is output by bcgtree (RAxML_bestTree.final), which is then used to calculate distances between samples, and/or kinship matrix creation. custom : if distance=custom is selected, a phylogeny tree file in newick format named tree.newick must also be attached to the request. This tree can be created however you'd like, but must be named tree.newick and the tree tip-labels must be the same as the SEQIDs in the pyseer request the uploaded phylogeny will then be used for distance calculations between pairs of samples, and/or kinship matrix creation.","title":"Population structure"},{"location":"analysis/pyseer/#association-models","text":"Please review the pyseer documentation for a description of models. The current association models available for the pyseer automator include: fixed : The patristic distances between all samples are used A GLM is run on each variant linearmixed : A linear mixed model (LMM) of fixed and random effects is fitted to the data The selected phylogeny will be used to calculate pairwise distances ( note :mash may be less accurate than other phylogenies). Calculates the similarities between sequences based on the shared branch length between each pair's most recent common ancestor and the root.","title":"Association models"},{"location":"analysis/pyseer/#references-file-for-k-mer-analysis","text":"If a references file ( references.txt ) is not uploaded to the redmine request, one will be automatically generated. The benefit of uploading the references file is that you can select a few trusted reference sequences for the annotations. Otherwise, all sequences in the request will be included as \"reference\" quality. The references are used first, and allow a close match of a k-mer. The drafts are used second, and require an exact match of the k-mer. This references.txt is a tab-separated file containing the sequence filename, annotation filename, and type of the references to be used (there are no headers required): XXXX-SEQ-0001.fasta XXXX-SEQ-0001.gff ref XXXX-MIN-0001.fasta XXXX-MIN-0001.gff ref XXXX-SEQ-0002.fasta XXXX-SEQ-0002.gff draft XXXX-SEQ-0340.fasta XXXX-SEQ-0340.gff draft","title":"References file for k-mer analysis"},{"location":"analysis/pyseer/#example","text":"For an example pyseer issue see issue 25083 . NOTE : the output files for these issues no longer exist on the ftp server.","title":"Example"},{"location":"analysis/pyseer/#interpreting-results","text":"The pyseer automator will upload links to the ftp for files called pyseer_output.zip , and possibly prokka_output.zip and bcgtree_output.zip depending on selected options. The pyseer_output.zip will contain all of the pyseer outputs including the tree files and distance matrices. See pyseer tutorial kmer analysis will output pyseer_kmers.txt , the significant kmers ( significant_kmers.txt ), annotated_kmers.txt , and gene_hits.txt which is a summary file of the annotated k-mers found by pyseer. the summarised annotated gene_hits.txt file can be graphed using R. See the pyseer tutorial roary analysis will output a pyseer_COGs.txt (COG = clusters of orthologous groups) file which contains the COGs not filtered out by pyseer. The first column in this file will contain the gene name (from the roary output gene_presence_absence.Rtab file) If high-bse or bad-chisq are listed in the last column, there may be a high effect size/low frequency result ( high-bse ) or MAF filter may not be stringent enough ( bad-chisq ). If analysistype=kmer , and/or distance=bcgtree were selected, the automator will upload a link to the ftp prokka_output.zip . This contains all of the outputs from prokka. Prokka will output a lot of files for each genome you give it - you can find a quick description of each file here . Of particular interest are the .gff files, which pyseer uses for annotations. If distance=bcgtree was used for distance/phylogeny, the bcgtree_output.zip file contains all of the outputs from bcgTree. The alignment files, and gene-id files output by bcgtree can be found in subfolders in the zip file. The most interesting outputs from bcgtree are the RAxML files. These files conaint the phylogenetic trees output by bcgTree:","title":"Interpreting Results"},{"location":"analysis/pyseer/#how-long-does-it-take","text":"This will depend on the number of sequences requested, and the analysis type. K-mer analysis will take hours in order to count the number of k-mers in a large number of sequences. Prokka isnt the quickest thing around - expect it to take 2 to 3 minutes for each genome you give it. The bcgTree pipeline time will depend on the number of sequences and bootstraps requested. If a large number of sequences is being analysed, it is suggested you create a separate issue for phylogeny generation with bcgtree (however this is yet to be tested).","title":"How long does it take?"},{"location":"analysis/pyseer/#what-can-go-wrong","text":"Requested SEQIDs are not available. If we cant find some of the SEQIDs that you request, you will get a warning message informing you of it. A traits.tsv file was not uploaded to redmine. You will get a warning message informing you to re-submit the request.","title":"What can go wrong?"},{"location":"analysis/resfinder/","text":"ResFinder What does it do? ResFinder is a program developed by the Danish Center for Genomic Epidemiology for detection of antibiotic resistance in draft genome assemblies. It is very important to note that the Redmine version will only look for acquired antibiotic resistance genes (generally plasmid-borne) and not chromosomally encoded AMR genes that are caused by point mutations. If you're interested in chromosomally encoded AMR genes, use the PointFinder automator , using the CARDRGI automator , or you can External Retrieve your assemblies of interest and submit them to an alternate AMR predictor, such as McMaster's webportal CARD . How do I use it? Subject In the Subject field, put ResFinder . Spelling counts, but case sensitivity doesn't. Description All you need to put in the description is a list of SEQIDs you want to detect AMR in, one per line. Example For an example ResFinder, see issue 12854 . Interpreting Results ResFinder will upload a file called resfinder.xlsx once it has completed, which shows every AMR gene found in each sample. Just because a gene/resistance is listed here does not necessarily mean the strain carries that resistance - it's important to look at the PercentIdentity and PercentCovered columns. You can be pretty sure that anything with 100 for both is actually there, but anything else requires further analysis to be sure. How long does it take? ResFinder is very fast - it should only take a few seconds to analyze each SEQID requested. What can go wrong? 1) Requested SEQIDs are not available. If we can't find some of the SEQIDs that you request, you will get a warning message informing you of it.","title":"ResFinder"},{"location":"analysis/resfinder/#resfinder","text":"","title":"ResFinder"},{"location":"analysis/resfinder/#what-does-it-do","text":"ResFinder is a program developed by the Danish Center for Genomic Epidemiology for detection of antibiotic resistance in draft genome assemblies. It is very important to note that the Redmine version will only look for acquired antibiotic resistance genes (generally plasmid-borne) and not chromosomally encoded AMR genes that are caused by point mutations. If you're interested in chromosomally encoded AMR genes, use the PointFinder automator , using the CARDRGI automator , or you can External Retrieve your assemblies of interest and submit them to an alternate AMR predictor, such as McMaster's webportal CARD .","title":"What does it do?"},{"location":"analysis/resfinder/#how-do-i-use-it","text":"","title":"How do I use it?"},{"location":"analysis/resfinder/#subject","text":"In the Subject field, put ResFinder . Spelling counts, but case sensitivity doesn't.","title":"Subject"},{"location":"analysis/resfinder/#description","text":"All you need to put in the description is a list of SEQIDs you want to detect AMR in, one per line.","title":"Description"},{"location":"analysis/resfinder/#example","text":"For an example ResFinder, see issue 12854 .","title":"Example"},{"location":"analysis/resfinder/#interpreting-results","text":"ResFinder will upload a file called resfinder.xlsx once it has completed, which shows every AMR gene found in each sample. Just because a gene/resistance is listed here does not necessarily mean the strain carries that resistance - it's important to look at the PercentIdentity and PercentCovered columns. You can be pretty sure that anything with 100 for both is actually there, but anything else requires further analysis to be sure.","title":"Interpreting Results"},{"location":"analysis/resfinder/#how-long-does-it-take","text":"ResFinder is very fast - it should only take a few seconds to analyze each SEQID requested.","title":"How long does it take?"},{"location":"analysis/resfinder/#what-can-go-wrong","text":"1) Requested SEQIDs are not available. If we can't find some of the SEQIDs that you request, you will get a warning message informing you of it.","title":"What can go wrong?"},{"location":"analysis/roary/","text":"RoaryScoary What does it do? Roary Roary is a pipeline for calculating pan genomes. Roary is not intended for metagenomics or for comparing extremely diverse sets of genomes. If you want to learn more about it, check out the Roary publication . Scoary Scoary takes the gene_presence_absence.csv file output from Roary and a traits file created by the user, and calculates the associations between the given traits and all genes in the accessory genome. For more information, check out the Scoary github or Scoary publication . How do I use it? Subject In the Subject field, put roary . Spelling counts, but case sensitivity doesn't. Description Required Components In the Description field, you must provide the requested analysis type as follows: analysistype=requested_analysis The Roary automator supports the following analyses which perform operations on the pan genome of isolate sequences (again, spelling counts, but case sensitivity doesn't): union - reports the union of genes found in sequences intersection - reports the intersection of genes found in isolate sequences (core genes) complement - reports the complement of genes found in isolates (accessory genes) gene_multifasta - extracts the sequence of each gene listed and creates multi-fasta files for each gene listed (outputs protein multi-fastas). NOTE : you must provide an additional line: genes=gene1,gene2,geneN which is a comma-separated list of genes you would like multi-fasta files for (eg. genes=fliC,gyrA ). Case sensitivity counts for gene names difference - reports the gene differences between sets of isolates. You must differentiate between sequence sets by adding the line set_two above your second set of sequences in the description (sequences you want compared). You must also include a list of SEQIDs one per line. Optional Components - Scoary If you would like scoary analysis to be completed, calculating the associations between traits and all genes in the accessory genome you must attach a csv file of traits (traits.csv) to the issue . Attaching a traits.csv file will automatically result in scoary analysis being conducted. This traits file must be formatted in a specific way . the rows should correspond to your isolate sequence IDs the top right cell should be left blank the trait(s) data must be binary (0 for trait absent, 1 for trait present) all SEQ-IDs and traits should be uniquely named and not contain any weird characters (e.g. %;,/&[]@? etc) The below table is an example from the Scoary github: Trait 1 Trait 2 ... Trait N YYYY-SEQ-0001 1 0 ... 1 YYYY-SEQ-0002 0 0 ... 1 YYYY-SEQ-0003 1 0 ... 1 For more information, check out the Scoary github Example For an example Roary/Scoary issue see issue 24968 , for an example Roary analysistype=gene_multifasta issue see issue 25013 . ( NOTE : the output files for these issues no longer exist on the ftp server.) Interpreting Results The Roary automator will upload links to the ftp for files called prokka_output.zip and roary_output.zip once it has completed. The prokka_output.zip contains all of the outputs from prokka. Prokka will output a lot of files for each genome you give it - you can find a quick description of each file here . Of particular interest are the .gff files, which Roary uses for analysis. The roary_output.zip file contains all of the outputs from roary. Some additional files will be present depending on the analysis type chosen: gene_multifasta - the zip file will include .fa files that contain the aligned protein sequences for the requested gene(s) (one for file each gene included in the analysis, eg. gene_multifasta_fliC.fa and gene_multifasta_gyrA.fa ). If you'd like, these sequences can be further analysed using NCBI protein blast. scoary - the zip file will include .csv file(s) for each of the traits (column headers) provided in the attached traits.csv file. How long does it take? Prokka isn't the quickest thing around - expect it to take 2 to 3 minutes for each genome you give it. After prokka is finished the Roary pipeline time will depend on the analysis type, and the number of genes/traits requested (in the case of gene_multifasta and scoary). What can go wrong? Requested SEQIDs are not available. If we can't find some of the SEQIDs that you request, you will get a warning message informing you of it. There was an issue with the requested analysistype: either one was not supplied, the was a typo, or you requested a currently-unsupported analysis. An error message detailing the problem will be added to the issue. Scoary You will not get an error if the traits.csv file is not attached or formatted correctly. Roary will complete, but no .csv files for each of the traits will be included in the zip file. Unfortunately, you will have to submit the analysis request again with the correct traits.csv formatting.","title":"Roary"},{"location":"analysis/roary/#roaryscoary","text":"","title":"RoaryScoary"},{"location":"analysis/roary/#what-does-it-do","text":"","title":"What does it do?"},{"location":"analysis/roary/#roary","text":"Roary is a pipeline for calculating pan genomes. Roary is not intended for metagenomics or for comparing extremely diverse sets of genomes. If you want to learn more about it, check out the Roary publication .","title":"Roary"},{"location":"analysis/roary/#scoary","text":"Scoary takes the gene_presence_absence.csv file output from Roary and a traits file created by the user, and calculates the associations between the given traits and all genes in the accessory genome. For more information, check out the Scoary github or Scoary publication .","title":"Scoary"},{"location":"analysis/roary/#how-do-i-use-it","text":"","title":"How do I use it?"},{"location":"analysis/roary/#subject","text":"In the Subject field, put roary . Spelling counts, but case sensitivity doesn't.","title":"Subject"},{"location":"analysis/roary/#description","text":"Required Components In the Description field, you must provide the requested analysis type as follows: analysistype=requested_analysis The Roary automator supports the following analyses which perform operations on the pan genome of isolate sequences (again, spelling counts, but case sensitivity doesn't): union - reports the union of genes found in sequences intersection - reports the intersection of genes found in isolate sequences (core genes) complement - reports the complement of genes found in isolates (accessory genes) gene_multifasta - extracts the sequence of each gene listed and creates multi-fasta files for each gene listed (outputs protein multi-fastas). NOTE : you must provide an additional line: genes=gene1,gene2,geneN which is a comma-separated list of genes you would like multi-fasta files for (eg. genes=fliC,gyrA ). Case sensitivity counts for gene names difference - reports the gene differences between sets of isolates. You must differentiate between sequence sets by adding the line set_two above your second set of sequences in the description (sequences you want compared). You must also include a list of SEQIDs one per line. Optional Components - Scoary If you would like scoary analysis to be completed, calculating the associations between traits and all genes in the accessory genome you must attach a csv file of traits (traits.csv) to the issue . Attaching a traits.csv file will automatically result in scoary analysis being conducted. This traits file must be formatted in a specific way . the rows should correspond to your isolate sequence IDs the top right cell should be left blank the trait(s) data must be binary (0 for trait absent, 1 for trait present) all SEQ-IDs and traits should be uniquely named and not contain any weird characters (e.g. %;,/&[]@? etc) The below table is an example from the Scoary github: Trait 1 Trait 2 ... Trait N YYYY-SEQ-0001 1 0 ... 1 YYYY-SEQ-0002 0 0 ... 1 YYYY-SEQ-0003 1 0 ... 1 For more information, check out the Scoary github","title":"Description"},{"location":"analysis/roary/#example","text":"For an example Roary/Scoary issue see issue 24968 , for an example Roary analysistype=gene_multifasta issue see issue 25013 . ( NOTE : the output files for these issues no longer exist on the ftp server.)","title":"Example"},{"location":"analysis/roary/#interpreting-results","text":"The Roary automator will upload links to the ftp for files called prokka_output.zip and roary_output.zip once it has completed. The prokka_output.zip contains all of the outputs from prokka. Prokka will output a lot of files for each genome you give it - you can find a quick description of each file here . Of particular interest are the .gff files, which Roary uses for analysis. The roary_output.zip file contains all of the outputs from roary. Some additional files will be present depending on the analysis type chosen: gene_multifasta - the zip file will include .fa files that contain the aligned protein sequences for the requested gene(s) (one for file each gene included in the analysis, eg. gene_multifasta_fliC.fa and gene_multifasta_gyrA.fa ). If you'd like, these sequences can be further analysed using NCBI protein blast. scoary - the zip file will include .csv file(s) for each of the traits (column headers) provided in the attached traits.csv file.","title":"Interpreting Results"},{"location":"analysis/roary/#how-long-does-it-take","text":"Prokka isn't the quickest thing around - expect it to take 2 to 3 minutes for each genome you give it. After prokka is finished the Roary pipeline time will depend on the analysis type, and the number of genes/traits requested (in the case of gene_multifasta and scoary).","title":"How long does it take?"},{"location":"analysis/roary/#what-can-go-wrong","text":"Requested SEQIDs are not available. If we can't find some of the SEQIDs that you request, you will get a warning message informing you of it. There was an issue with the requested analysistype: either one was not supplied, the was a typo, or you requested a currently-unsupported analysis. An error message detailing the problem will be added to the issue. Scoary You will not get an error if the traits.csv file is not attached or formatted correctly. Roary will complete, but no .csv files for each of the traits will be included in the zip file. Unfortunately, you will have to submit the analysis request again with the correct traits.csv formatting.","title":"What can go wrong?"},{"location":"analysis/sequence_extractor/","text":"SequenceExtractor What does it do? SequenceExtractor extracts the sequence data from a supplied contig at designated start and stop positions Check out the source code: github How do I use it? Subject In the Subject field, put sequence_extractor . Spelling counts, but case sensitivity does not. Description There are two ways to use SequenceExtractor You must provide a list of (one per line): SEQID;contig name;start coordinates; stop coordinates e.g. 2019-SEQ-0848;Contig_1_149.079_Circ;1;50 2019-SEQ-1019;Contig_1_388.862_Circ;14;77 2019-SEQ-0848;Contig_2_392.879_Circ;2;39 2019-SEQ-1019;Contig_3_52.4575;5;22 Notes: If you want an entire contig, supply the start and stop positions as 0 The stop base can be lower than the start base. The script will change them, so that the start base is always lower The above example performs four extractions: bases 1-50 from Contig_1_149.079_Circ in the assembly for SEQID 2019-SEQ-0848 bases 14-77 from Contig_1_388.862_Circ in the assembly for SEQID 2019-SEQ-1019 bases 2-39 from Contig_2_392.879_Circ in the assembly for SEQID 2019-SEQ-0848 bases 5-22 from Contig_3_52.4575 in the assembly for SEQID 2019-SEQ-1019 This list can be supplied in two possible ways: In the Description In an attached file (the name of the file doesn't matter, but please try to avoid empty lines) You cannot supply the list both ways; if you provide an attachment, any entries in the Description will be ignored. Example For an example SequenceExtractor analysis with the fasta details provided as an attachment, see issue 28104 . This example has SEQIDs in the Description, but it's not necessary. For an example SequenceExtractor analysis with the fasta details provided in the description, see issue 28181 . Interpreting Results SequenceExtractor will output a FASTA-formatted file, extracted_sequences.fasta ,that should look like the following if you used the example list above: >2019-SEQ-0848_Contig_1_149.079_Circ_1_50 AAAAAAAACAAATATATACTTTGATGATAACTTTCTAAATATCTACAAAA >2019-SEQ-0848_Contig_2_392.879_Circ_2_39 AAAAAAACAATAAAAAACACCGCAAAAATGGATTGTTA >2019-SEQ-1019_Contig_1_388.862_Circ_14_77 CAATAGTCTTATTTCCATTCAGGTATTCAATATTAATATTCATACGTTAATCCGATTTAT CCTT >2019-SEQ-1019_Contig_3_52.4575_5_22 ATATCATCAGATGGCTGC How long does it take? SequenceExtractor is pretty fast - expect it to take a few seconds per entry you give it. What can go wrong? Requested SEQIDs are not available. If we can't find some of the SEQIDs that you request, you will get a warning message informing you of it. The contig name must be provided exactly as it is written in the assembly. The start or stop position provided is invalid e.g. if you ask for positions 789-882 in a contig that is only 500bp long, nothing will be returned.","title":"SequenceExtractor"},{"location":"analysis/sequence_extractor/#sequenceextractor","text":"","title":"SequenceExtractor"},{"location":"analysis/sequence_extractor/#what-does-it-do","text":"SequenceExtractor extracts the sequence data from a supplied contig at designated start and stop positions Check out the source code: github","title":"What does it do?"},{"location":"analysis/sequence_extractor/#how-do-i-use-it","text":"","title":"How do I use it?"},{"location":"analysis/sequence_extractor/#subject","text":"In the Subject field, put sequence_extractor . Spelling counts, but case sensitivity does not.","title":"Subject"},{"location":"analysis/sequence_extractor/#description","text":"There are two ways to use SequenceExtractor You must provide a list of (one per line): SEQID;contig name;start coordinates; stop coordinates e.g. 2019-SEQ-0848;Contig_1_149.079_Circ;1;50 2019-SEQ-1019;Contig_1_388.862_Circ;14;77 2019-SEQ-0848;Contig_2_392.879_Circ;2;39 2019-SEQ-1019;Contig_3_52.4575;5;22 Notes: If you want an entire contig, supply the start and stop positions as 0 The stop base can be lower than the start base. The script will change them, so that the start base is always lower The above example performs four extractions: bases 1-50 from Contig_1_149.079_Circ in the assembly for SEQID 2019-SEQ-0848 bases 14-77 from Contig_1_388.862_Circ in the assembly for SEQID 2019-SEQ-1019 bases 2-39 from Contig_2_392.879_Circ in the assembly for SEQID 2019-SEQ-0848 bases 5-22 from Contig_3_52.4575 in the assembly for SEQID 2019-SEQ-1019 This list can be supplied in two possible ways: In the Description In an attached file (the name of the file doesn't matter, but please try to avoid empty lines) You cannot supply the list both ways; if you provide an attachment, any entries in the Description will be ignored.","title":"Description"},{"location":"analysis/sequence_extractor/#example","text":"For an example SequenceExtractor analysis with the fasta details provided as an attachment, see issue 28104 . This example has SEQIDs in the Description, but it's not necessary. For an example SequenceExtractor analysis with the fasta details provided in the description, see issue 28181 .","title":"Example"},{"location":"analysis/sequence_extractor/#interpreting-results","text":"SequenceExtractor will output a FASTA-formatted file, extracted_sequences.fasta ,that should look like the following if you used the example list above: >2019-SEQ-0848_Contig_1_149.079_Circ_1_50 AAAAAAAACAAATATATACTTTGATGATAACTTTCTAAATATCTACAAAA >2019-SEQ-0848_Contig_2_392.879_Circ_2_39 AAAAAAACAATAAAAAACACCGCAAAAATGGATTGTTA >2019-SEQ-1019_Contig_1_388.862_Circ_14_77 CAATAGTCTTATTTCCATTCAGGTATTCAATATTAATATTCATACGTTAATCCGATTTAT CCTT >2019-SEQ-1019_Contig_3_52.4575_5_22 ATATCATCAGATGGCTGC","title":"Interpreting Results"},{"location":"analysis/sequence_extractor/#how-long-does-it-take","text":"SequenceExtractor is pretty fast - expect it to take a few seconds per entry you give it.","title":"How long does it take?"},{"location":"analysis/sequence_extractor/#what-can-go-wrong","text":"Requested SEQIDs are not available. If we can't find some of the SEQIDs that you request, you will get a warning message informing you of it. The contig name must be provided exactly as it is written in the assembly. The start or stop position provided is invalid e.g. if you ask for positions 789-882 in a contig that is only 500bp long, nothing will be returned.","title":"What can go wrong?"},{"location":"analysis/sipprverse/","text":"sipprverse What does it do? The sipprverse is a suite of analyses that detect gene targets in raw FASTQ reads. How do I use it? Subject In the Subject field, put sipprverse . Spelling counts, but case sensitivity doesn't. Description Required Components In the Description field, you must provide: analysis=requested_analysis The sipprverse pipeline supports the following analyses (again, spelling counts, but case sensitivity doesn't): gdcs - determines the presence of genomically-dispersed conserved sequences in the following genera: Escherichia, Listeria, Salmonella, Vibrio genesippr - custom suite of genes derived from the following genera: Bacillus, Campylobacter, Escherichia, Listeria, Salmonella, Staphylococcus, Vibrio mash - finds closest matching RefSeq genome mlst - determines multi-locus sequence type for the following genera: Bacillus, Campylobacter, Escherichia, Listeria, Salmonella, Staphylococcus, Vibrio pointfinder - detects chromosomal mutations predictive of drug resistance resfinder - identifies acquired antimicrobial resistance genes rmlst - determines ribosomal multi-locus sequence type serosippr - calculates the serotype for Escherichia sixteens - determines closest 16S match virulence - finds virulence genes full (all the above analyses) custom ( you must attach a FASTA-formatted file of targets to the issue ) a list of SEQIDs (one per line) Optional Components In order to customise your sipprverse analyses, several settings can be optionally modified Minimum cutoff for matches to be included in report. default is 0.90 modify as follows: cutoff=0.85 Average pileup depth cutoff default is 2 modify as follows: averagedepth=3 Kmer size to use for baiting. Please don't lower this too much (11 is probably about as low as I would recommend) default is 19 modify as follows: kmersize=11 Do not automatically discard hits if there are internal soft clips present default is False modify as follows: allowsoftclips=True Example For an example sipprverse issue, see issue 15706 or issue 15707 . Interpreting Results The sipprverse automator will upload a file called sipprverse_output.zip once it has completed. This file will contain all the reports generated for the requested analysis. How long does it take? It depends on the analysis requested. The sipprverse pipeline deals with raw reads, so expect that it should take a few minutes to analyze each SEQID requested. What can go wrong? Requested SEQIDs are not available. If we can't find some of the SEQIDs that you request, you will get a warning message informing you of it. There was an issue with the requested analysis: either one was not supplied, the was a typo, or you requested a currently-unsupported analysis. An error message detailing the problem will be added to the issue. The custom analysis requires an attached FASTA-formatted file of gene targets. If the file was not attached, or there was an issue reading the file, an error message detailing the problem will be add to the issue.","title":"sipprverse"},{"location":"analysis/sipprverse/#sipprverse","text":"","title":"sipprverse"},{"location":"analysis/sipprverse/#what-does-it-do","text":"The sipprverse is a suite of analyses that detect gene targets in raw FASTQ reads.","title":"What does it do?"},{"location":"analysis/sipprverse/#how-do-i-use-it","text":"","title":"How do I use it?"},{"location":"analysis/sipprverse/#subject","text":"In the Subject field, put sipprverse . Spelling counts, but case sensitivity doesn't.","title":"Subject"},{"location":"analysis/sipprverse/#description","text":"Required Components In the Description field, you must provide: analysis=requested_analysis The sipprverse pipeline supports the following analyses (again, spelling counts, but case sensitivity doesn't): gdcs - determines the presence of genomically-dispersed conserved sequences in the following genera: Escherichia, Listeria, Salmonella, Vibrio genesippr - custom suite of genes derived from the following genera: Bacillus, Campylobacter, Escherichia, Listeria, Salmonella, Staphylococcus, Vibrio mash - finds closest matching RefSeq genome mlst - determines multi-locus sequence type for the following genera: Bacillus, Campylobacter, Escherichia, Listeria, Salmonella, Staphylococcus, Vibrio pointfinder - detects chromosomal mutations predictive of drug resistance resfinder - identifies acquired antimicrobial resistance genes rmlst - determines ribosomal multi-locus sequence type serosippr - calculates the serotype for Escherichia sixteens - determines closest 16S match virulence - finds virulence genes full (all the above analyses) custom ( you must attach a FASTA-formatted file of targets to the issue ) a list of SEQIDs (one per line) Optional Components In order to customise your sipprverse analyses, several settings can be optionally modified Minimum cutoff for matches to be included in report. default is 0.90 modify as follows: cutoff=0.85 Average pileup depth cutoff default is 2 modify as follows: averagedepth=3 Kmer size to use for baiting. Please don't lower this too much (11 is probably about as low as I would recommend) default is 19 modify as follows: kmersize=11 Do not automatically discard hits if there are internal soft clips present default is False modify as follows: allowsoftclips=True","title":"Description"},{"location":"analysis/sipprverse/#example","text":"For an example sipprverse issue, see issue 15706 or issue 15707 .","title":"Example"},{"location":"analysis/sipprverse/#interpreting-results","text":"The sipprverse automator will upload a file called sipprverse_output.zip once it has completed. This file will contain all the reports generated for the requested analysis.","title":"Interpreting Results"},{"location":"analysis/sipprverse/#how-long-does-it-take","text":"It depends on the analysis requested. The sipprverse pipeline deals with raw reads, so expect that it should take a few minutes to analyze each SEQID requested.","title":"How long does it take?"},{"location":"analysis/sipprverse/#what-can-go-wrong","text":"Requested SEQIDs are not available. If we can't find some of the SEQIDs that you request, you will get a warning message informing you of it. There was an issue with the requested analysis: either one was not supplied, the was a typo, or you requested a currently-unsupported analysis. An error message detailing the problem will be added to the issue. The custom analysis requires an attached FASTA-formatted file of gene targets. If the file was not attached, or there was an issue reading the file, an error message detailing the problem will be add to the issue.","title":"What can go wrong?"},{"location":"analysis/snvphyl/","text":"SNVPhyl What does it do? SNVPhyl is a pipeline developed by the Public Health Agency of Canada for evaluating the number of SNPs between a reference strain and other closely related strains. It also builds a phylogenetic tree to attempt to show the relatedness of these strains. Lots more info can be found at the SNVPhyl readthedocs site . How do I use it? Subject In the Subject field, put SNVPhyl . Spelling counts, but case sensitivity doesn't. Description The first line of your description needs to be reference , and the second line the SEQID of the strain you want to act as your reference strain. Ideally, you'll want to pick a high-quality assembly for your reference. If you wish to attach a reference file instead of providing a SEQID, the second line must be attached The third line of your description should be compare , and lines after that the SEQIDs for strains you want to compare your reference to. Example For an example SNVPhyl, see issue 12494 . Interpreting Results The zip file uploaded on SNVPhyl completion should contain 10 files. Important files are: snvMatrix.tsv: Shows the number of SNVs between every strain submitted. vcf2core.tsv: Shows how much of the genome was covered by the analysis (look at the Percentage of all positions that are valid, included, and part of the core genome column in the all row). This should be at least 90 percent, or the strains you were comparing were probably too far apart to get good results. phylogeneticTree.nwk: The phylogenetic tree created by SNVPhyl. If you want to view this tree, you can use a program such as FigTree or a web-based viewer like phylo.io . Other files can also be important - see the docs on SNVPhyl Output files for more information. How long does it take? Most SNVPhyl requests take ~1 hour to complete. If you submit a request for a larger SNVPhyl (>30 strains), it may take substantially longer. What can go wrong? A few things can go wrong with this process: 1) Requested SEQIDs are not available. If we can't find some of the SEQIDs that you request, you will get a warning message informing you of it. 2) Strains too far apart. SNVPhyl requires that the strains you want to compare to the reference be closely related to the reference. If you ask for a SNVPhyl with things that are not very related, you will get a warning telling you so. 3) No output files. Sometimes, SNVPhyl will say it has completed, but the typical output files will not be present. This is either because a) there are no SNVs between the two strains, and so SNVPhyl crashes or b) SNVPhyl crashed for an unknown reason, which does happen occasionally. If this happens, your best bet is to try running the SNVPhyl again. If SNVPhyl keeps crashing even after subsequent attempts, let us know and we'll do our best to fix things.","title":"SNVPhyl"},{"location":"analysis/snvphyl/#snvphyl","text":"","title":"SNVPhyl"},{"location":"analysis/snvphyl/#what-does-it-do","text":"SNVPhyl is a pipeline developed by the Public Health Agency of Canada for evaluating the number of SNPs between a reference strain and other closely related strains. It also builds a phylogenetic tree to attempt to show the relatedness of these strains. Lots more info can be found at the SNVPhyl readthedocs site .","title":"What does it do?"},{"location":"analysis/snvphyl/#how-do-i-use-it","text":"","title":"How do I use it?"},{"location":"analysis/snvphyl/#subject","text":"In the Subject field, put SNVPhyl . Spelling counts, but case sensitivity doesn't.","title":"Subject"},{"location":"analysis/snvphyl/#description","text":"The first line of your description needs to be reference , and the second line the SEQID of the strain you want to act as your reference strain. Ideally, you'll want to pick a high-quality assembly for your reference. If you wish to attach a reference file instead of providing a SEQID, the second line must be attached The third line of your description should be compare , and lines after that the SEQIDs for strains you want to compare your reference to.","title":"Description"},{"location":"analysis/snvphyl/#example","text":"For an example SNVPhyl, see issue 12494 .","title":"Example"},{"location":"analysis/snvphyl/#interpreting-results","text":"The zip file uploaded on SNVPhyl completion should contain 10 files. Important files are: snvMatrix.tsv: Shows the number of SNVs between every strain submitted. vcf2core.tsv: Shows how much of the genome was covered by the analysis (look at the Percentage of all positions that are valid, included, and part of the core genome column in the all row). This should be at least 90 percent, or the strains you were comparing were probably too far apart to get good results. phylogeneticTree.nwk: The phylogenetic tree created by SNVPhyl. If you want to view this tree, you can use a program such as FigTree or a web-based viewer like phylo.io . Other files can also be important - see the docs on SNVPhyl Output files for more information.","title":"Interpreting Results"},{"location":"analysis/snvphyl/#how-long-does-it-take","text":"Most SNVPhyl requests take ~1 hour to complete. If you submit a request for a larger SNVPhyl (>30 strains), it may take substantially longer.","title":"How long does it take?"},{"location":"analysis/snvphyl/#what-can-go-wrong","text":"A few things can go wrong with this process: 1) Requested SEQIDs are not available. If we can't find some of the SEQIDs that you request, you will get a warning message informing you of it. 2) Strains too far apart. SNVPhyl requires that the strains you want to compare to the reference be closely related to the reference. If you ask for a SNVPhyl with things that are not very related, you will get a warning telling you so. 3) No output files. Sometimes, SNVPhyl will say it has completed, but the typical output files will not be present. This is either because a) there are no SNVs between the two strains, and so SNVPhyl crashes or b) SNVPhyl crashed for an unknown reason, which does happen occasionally. If this happens, your best bet is to try running the SNVPhyl again. If SNVPhyl keeps crashing even after subsequent attempts, let us know and we'll do our best to fix things.","title":"What can go wrong?"},{"location":"analysis/staramr/","text":"StarAMR What does it do? StarAMR is a program from Canada's National Microbiology Laboratory that combines the ResFinder and PointFinder programs for detecting antibiotic resistance from the Danish Center for Genomic Epidemiology . How do I use it? Subject In the Subject field, put staramr . Spelling counts, but case sensitivity doesn't. Description All you need to put in the description is a list of SEQIDs you want to detect AMR in, one per line. Note that StarAMR is limited to detecting mutations in a few genera: Campylobacter Salmonella Our StarAMR automator will automatically determine the genus of your requested SEQIDs, and will not attempt to analyze any SEQIDs that are not from one of these genera. Example For an example StarAMR, see issue 15625 . Interpreting Results StarAMR will upload a zip file called staramr_output.zip . Within this folder, you will find a few files for each genus: Note: Any SEQIDs from genera that are not Campylobacter or Salmonella not have any files uploaded The most important file for each genus is results.xlsx - this shows what AMR genes were found in each SeqID, and also lets you see if the resistance is conferred by a gene or a point mutation. How long does it take? StarAMR should take 30 seconds to 1 minutes for analysis of each sample. What can go wrong? 1) Requested SEQIDs are not available: If we can't find some of the SEQIDs that you request, you will get a warning message informing you of it. 2) Can't run on requested genera: If the SEQIDs you request are not one of the genera that PointFinder works on, you will get a message saying so. PointFinder will still run on any SEQIDs specified that are from the correct genera.","title":"staramr"},{"location":"analysis/staramr/#staramr","text":"","title":"StarAMR"},{"location":"analysis/staramr/#what-does-it-do","text":"StarAMR is a program from Canada's National Microbiology Laboratory that combines the ResFinder and PointFinder programs for detecting antibiotic resistance from the Danish Center for Genomic Epidemiology .","title":"What does it do?"},{"location":"analysis/staramr/#how-do-i-use-it","text":"","title":"How do I use it?"},{"location":"analysis/staramr/#subject","text":"In the Subject field, put staramr . Spelling counts, but case sensitivity doesn't.","title":"Subject"},{"location":"analysis/staramr/#description","text":"All you need to put in the description is a list of SEQIDs you want to detect AMR in, one per line. Note that StarAMR is limited to detecting mutations in a few genera: Campylobacter Salmonella Our StarAMR automator will automatically determine the genus of your requested SEQIDs, and will not attempt to analyze any SEQIDs that are not from one of these genera.","title":"Description"},{"location":"analysis/staramr/#example","text":"For an example StarAMR, see issue 15625 .","title":"Example"},{"location":"analysis/staramr/#interpreting-results","text":"StarAMR will upload a zip file called staramr_output.zip . Within this folder, you will find a few files for each genus: Note: Any SEQIDs from genera that are not Campylobacter or Salmonella not have any files uploaded The most important file for each genus is results.xlsx - this shows what AMR genes were found in each SeqID, and also lets you see if the resistance is conferred by a gene or a point mutation.","title":"Interpreting Results"},{"location":"analysis/staramr/#how-long-does-it-take","text":"StarAMR should take 30 seconds to 1 minutes for analysis of each sample.","title":"How long does it take?"},{"location":"analysis/staramr/#what-can-go-wrong","text":"1) Requested SEQIDs are not available: If we can't find some of the SEQIDs that you request, you will get a warning message informing you of it. 2) Can't run on requested genera: If the SEQIDs you request are not one of the genera that PointFinder works on, you will get a message saying so. PointFinder will still run on any SEQIDs specified that are from the correct genera.","title":"What can go wrong?"},{"location":"analysis/strainmash/","text":"StrainMash What does it do? StrainMash uses the MinHash algorithm (as implemented by mash ) in order to very quickly find which RefSeq type strain an assembly is closest to. This can be very useful if you aren't entirely sure what species it is that you've actually sequnced. How do I use it? Subject In the Subject field, put StrainMash . Spelling counts, but case sensitivity doesn't. Description All you need to put in the description is a list of SEQIDs you want to analyze, one per line. Example For an example StrainMash, see issue 12860 . Interpreting Results StrainMash will upload a zip file once it finishes. This contains a folder called output, which will have a text file for each SEQID entered showing results. These text files have 6 columns: MashDistance: Represents roughly how close the query sequence is the the reference strain. 1 is a perfect match, 0 is no similarity. To say that something very closely matches a reference strain, this number should be at least 0.98 NumMatchingHashes: Another measure of how close the query sequence is to the reference strain. 1000/1000 is a perfect match, 0 is no similarity. Number needs to be fairly high (>850) for close matches to reference. MedianMultiplicity: Can mostly be ignored. Should always be 1. Pvalue: An attempt to assign significance to the hit. Should be zero for anything that very closely matches a reference strain. ReferenceStrain: The NCBI Accession for the reference strain. Organism: The name of the organism that is the reference strain. How long does it take? StrainMash should take about 30 seconds to 1 minute to analyze each sample you send to it. What can go wrong? 1) Requested SEQIDs are not available. If we can't find some of the SEQIDs that you request, you will get a warning message informing you of it.","title":"StrainMash"},{"location":"analysis/strainmash/#strainmash","text":"","title":"StrainMash"},{"location":"analysis/strainmash/#what-does-it-do","text":"StrainMash uses the MinHash algorithm (as implemented by mash ) in order to very quickly find which RefSeq type strain an assembly is closest to. This can be very useful if you aren't entirely sure what species it is that you've actually sequnced.","title":"What does it do?"},{"location":"analysis/strainmash/#how-do-i-use-it","text":"","title":"How do I use it?"},{"location":"analysis/strainmash/#subject","text":"In the Subject field, put StrainMash . Spelling counts, but case sensitivity doesn't.","title":"Subject"},{"location":"analysis/strainmash/#description","text":"All you need to put in the description is a list of SEQIDs you want to analyze, one per line.","title":"Description"},{"location":"analysis/strainmash/#example","text":"For an example StrainMash, see issue 12860 .","title":"Example"},{"location":"analysis/strainmash/#interpreting-results","text":"StrainMash will upload a zip file once it finishes. This contains a folder called output, which will have a text file for each SEQID entered showing results. These text files have 6 columns: MashDistance: Represents roughly how close the query sequence is the the reference strain. 1 is a perfect match, 0 is no similarity. To say that something very closely matches a reference strain, this number should be at least 0.98 NumMatchingHashes: Another measure of how close the query sequence is to the reference strain. 1000/1000 is a perfect match, 0 is no similarity. Number needs to be fairly high (>850) for close matches to reference. MedianMultiplicity: Can mostly be ignored. Should always be 1. Pvalue: An attempt to assign significance to the hit. Should be zero for anything that very closely matches a reference strain. ReferenceStrain: The NCBI Accession for the reference strain. Organism: The name of the organism that is the reference strain.","title":"Interpreting Results"},{"location":"analysis/strainmash/#how-long-does-it-take","text":"StrainMash should take about 30 seconds to 1 minute to analyze each sample you send to it.","title":"How long does it take?"},{"location":"analysis/strainmash/#what-can-go-wrong","text":"1) Requested SEQIDs are not available. If we can't find some of the SEQIDs that you request, you will get a warning message informing you of it.","title":"What can go wrong?"},{"location":"analysis/wgsassembly/","text":"WGS Assembly What does it do? WGS Assembly will take an Illumina MiSeq run and put it through the CFIA OLC Workflow for Bacterial Assembly and Typing (COWBAT). How do I use it? Before Redmine Before submitting your request to Redmine, you need to upload your sequence data. Your sequence data should be in a folder named YYMMDD_LAB, where YYMMDD is the date sequencing was done, and LAB is a 3-letter code for your lab. For example, a sequencing run from Calgary done on July 16, 2018 would be 180716_CAL. This folder needs to have the following files: SampleSheet.csv (see RDIMS 8040830 for an example SampleSheet) CompletedJobInfo.xml config.xml GenerateFASTQRunStatistics.xml RunInfo.xml runParameters.xml the InterOp folder A forward and reverse set of reads for each SEQID specified in your SampleSheet.csv To upload this folder, navigate to ftp://ftp.agr.gc.ca/incoming/cfia-ak in a file browser and drag and drop the folder to upload. Upload speed will vary depending on your connection. Once your upload is complete, you can head to Redmine to submit your issue. Subject In the Subject field, put WGS Assembly . Spelling counts, but case sensitivity doesn't. Description The only thing to put in your description is the name of the folder you created and uploaded. Example For an example WGS Assembly, see issue 12782 . How long does it take? WGS Assembly will likely take 5-6 hours to complete, although it can be as fast as 2 hours or as slow as 8. What can go wrong? A few things can go wrong with this process: 1) FTP upload fails: Your upload to the FTP may time out or otherwise fail. If this happens, you will need to send us an email so we can clear out the previous upload attempt before attempting to upload again. 2) Validation fail: We validate a number of things about the files that are submitted before starting assembly, including making sure that all SEQIDs specified in the SampleSheet are uploaded, that the FASTQ files are appropriately sized, and that all files required are present. If any of these validation checks fail, send us an email and we'll get things sorted out.","title":"WGS Assembly"},{"location":"analysis/wgsassembly/#wgs-assembly","text":"","title":"WGS Assembly"},{"location":"analysis/wgsassembly/#what-does-it-do","text":"WGS Assembly will take an Illumina MiSeq run and put it through the CFIA OLC Workflow for Bacterial Assembly and Typing (COWBAT).","title":"What does it do?"},{"location":"analysis/wgsassembly/#how-do-i-use-it","text":"","title":"How do I use it?"},{"location":"analysis/wgsassembly/#before-redmine","text":"Before submitting your request to Redmine, you need to upload your sequence data. Your sequence data should be in a folder named YYMMDD_LAB, where YYMMDD is the date sequencing was done, and LAB is a 3-letter code for your lab. For example, a sequencing run from Calgary done on July 16, 2018 would be 180716_CAL. This folder needs to have the following files: SampleSheet.csv (see RDIMS 8040830 for an example SampleSheet) CompletedJobInfo.xml config.xml GenerateFASTQRunStatistics.xml RunInfo.xml runParameters.xml the InterOp folder A forward and reverse set of reads for each SEQID specified in your SampleSheet.csv To upload this folder, navigate to ftp://ftp.agr.gc.ca/incoming/cfia-ak in a file browser and drag and drop the folder to upload. Upload speed will vary depending on your connection. Once your upload is complete, you can head to Redmine to submit your issue.","title":"Before Redmine"},{"location":"analysis/wgsassembly/#subject","text":"In the Subject field, put WGS Assembly . Spelling counts, but case sensitivity doesn't.","title":"Subject"},{"location":"analysis/wgsassembly/#description","text":"The only thing to put in your description is the name of the folder you created and uploaded.","title":"Description"},{"location":"analysis/wgsassembly/#example","text":"For an example WGS Assembly, see issue 12782 .","title":"Example"},{"location":"analysis/wgsassembly/#how-long-does-it-take","text":"WGS Assembly will likely take 5-6 hours to complete, although it can be as fast as 2 hours or as slow as 8.","title":"How long does it take?"},{"location":"analysis/wgsassembly/#what-can-go-wrong","text":"A few things can go wrong with this process: 1) FTP upload fails: Your upload to the FTP may time out or otherwise fail. If this happens, you will need to send us an email so we can clear out the previous upload attempt before attempting to upload again. 2) Validation fail: We validate a number of things about the files that are submitted before starting assembly, including making sure that all SEQIDs specified in the SampleSheet are uploaded, that the FASTQ files are appropriately sized, and that all files required are present. If any of these validation checks fail, send us an email and we'll get things sorted out.","title":"What can go wrong?"},{"location":"data/external_retrieve/","text":"External Retrieve What does it do? External retrieve is a process that will upload data you request (either raw reads or draft assemblies) to an FTP site so that you can download it in the event that you need to have your files locally available. How do I use it? Subject In the Subject field, put External Retrieve . Spelling counts, but case sensitivity doesn't. Description The first line of your description tells the process whether you want to rename the retrieved files for upload to the SRA (e.g. 2014-SEQ-0349_S11_L001_R1_001.fastq.gz renamed to 2014-SEQ-0349_R1.fastq.gz). Note that this option requires FASTQ files to be retrieved (see below) The next line specifies whether you want raw reads or draft assemblies. For reads, the first line should be fastq , and for assemblies the first line should be fasta . Every line after that should be a SEQID that you want the data for. Example For an example of an External Retrieve, see issue 12822 or SRA formatting issue 18760 . How long does it take? If your request is for a small number of files, it will generally be done within a few minutes. The more files requested, the longer the request will take. What can go wrong? A few things can go wrong with this process: 1) Requested SEQIDs are not available. If we can't find some of the SEQIDs that you request, you will get a warning message informing you of it. 2) FTP timeout. Sometimes, particularly for larger requests, the upload to the FTP will run into problems and time out, in which case you will likely get an error message similar to this: [Errno 104] Connection reset by peer . If this occurs, you can either try again later, or, if you had a large request, try splitting it into a few smaller requests. If the problem persists, send us an email and we'll try to get it figured out.","title":"External Retrieve"},{"location":"data/external_retrieve/#external-retrieve","text":"","title":"External Retrieve"},{"location":"data/external_retrieve/#what-does-it-do","text":"External retrieve is a process that will upload data you request (either raw reads or draft assemblies) to an FTP site so that you can download it in the event that you need to have your files locally available.","title":"What does it do?"},{"location":"data/external_retrieve/#how-do-i-use-it","text":"","title":"How do I use it?"},{"location":"data/external_retrieve/#subject","text":"In the Subject field, put External Retrieve . Spelling counts, but case sensitivity doesn't.","title":"Subject"},{"location":"data/external_retrieve/#description","text":"The first line of your description tells the process whether you want to rename the retrieved files for upload to the SRA (e.g. 2014-SEQ-0349_S11_L001_R1_001.fastq.gz renamed to 2014-SEQ-0349_R1.fastq.gz). Note that this option requires FASTQ files to be retrieved (see below) The next line specifies whether you want raw reads or draft assemblies. For reads, the first line should be fastq , and for assemblies the first line should be fasta . Every line after that should be a SEQID that you want the data for.","title":"Description"},{"location":"data/external_retrieve/#example","text":"For an example of an External Retrieve, see issue 12822 or SRA formatting issue 18760 .","title":"Example"},{"location":"data/external_retrieve/#how-long-does-it-take","text":"If your request is for a small number of files, it will generally be done within a few minutes. The more files requested, the longer the request will take.","title":"How long does it take?"},{"location":"data/external_retrieve/#what-can-go-wrong","text":"A few things can go wrong with this process: 1) Requested SEQIDs are not available. If we can't find some of the SEQIDs that you request, you will get a warning message informing you of it. 2) FTP timeout. Sometimes, particularly for larger requests, the upload to the FTP will run into problems and time out, in which case you will likely get an error message similar to this: [Errno 104] Connection reset by peer . If this occurs, you can either try again later, or, if you had a large request, try splitting it into a few smaller requests. If the problem persists, send us an email and we'll try to get it figured out.","title":"What can go wrong?"},{"location":"data/report_retrieve/","text":"Report Retrieve What does it do? Report retrieve will grab assembly reports for you and upload them to the FTP. How do I use it? Subject In the Subject field, put Report Retrieve . Spelling counts, but case sensitivity doesn't. Description Put the SEQIDs you want reports for in the description, one per line. Example For an example of an External Retrieve, see issue 13931 . How long does it take? This should be almost instant - your request should be processed within a few minutes. What can go wrong? A few things can go wrong with this process: 1) Requested SEQIDs are not available. If we can't find some of the SEQIDs that you request, you will get a warning message informing you of it. 2) FTP timeout. Sometimes, particularly for larger requests, the upload to the FTP will run into problems and time out, in which case you will likely get an error message similar to this: Upload of result files was unsucessful due to FTP connectivity issues . If this occurs, your best bet is to try again later. If problems persist, send us an email and we'll look into it.","title":"Report Retrieve"},{"location":"data/report_retrieve/#report-retrieve","text":"","title":"Report Retrieve"},{"location":"data/report_retrieve/#what-does-it-do","text":"Report retrieve will grab assembly reports for you and upload them to the FTP.","title":"What does it do?"},{"location":"data/report_retrieve/#how-do-i-use-it","text":"","title":"How do I use it?"},{"location":"data/report_retrieve/#subject","text":"In the Subject field, put Report Retrieve . Spelling counts, but case sensitivity doesn't.","title":"Subject"},{"location":"data/report_retrieve/#description","text":"Put the SEQIDs you want reports for in the description, one per line.","title":"Description"},{"location":"data/report_retrieve/#example","text":"For an example of an External Retrieve, see issue 13931 .","title":"Example"},{"location":"data/report_retrieve/#how-long-does-it-take","text":"This should be almost instant - your request should be processed within a few minutes.","title":"How long does it take?"},{"location":"data/report_retrieve/#what-can-go-wrong","text":"A few things can go wrong with this process: 1) Requested SEQIDs are not available. If we can't find some of the SEQIDs that you request, you will get a warning message informing you of it. 2) FTP timeout. Sometimes, particularly for larger requests, the upload to the FTP will run into problems and time out, in which case you will likely get an error message similar to this: Upload of result files was unsucessful due to FTP connectivity issues . If this occurs, your best bet is to try again later. If problems persist, send us an email and we'll look into it.","title":"What can go wrong?"},{"location":"data/sra_upload/","text":"SRA Upload What does it do? SRA Upload allows you to preload your sequence data for submission to the NCBI SRA using an FTP connection. How do I use it? Subject In the Subject field, put SRA Upload . Spelling counts, but case sensitivity doesn't. Description Before submitting, you'll need to get your FTP username, FTP password, and FTP folder name from the SRA. To do this, log in to the SRA submission portal. Click on the My Submissions tab towards the top right of the page, and then in the Start a new submission box, click Sequence Read Archive . Under Options to preload data , click FTP upload , and take note of the Username , Password , and the text under Navigate to your account folder. Once you have those three things, you're ready to go. Put the username in the first line of the description, password in the second line, and the folder specified in the third (it should be something like uploads/youremail_a1d3a1 ). In subsequent lines, put the SeqIDs you want to upload files for. Once the request finishes running, you should be able to find a folder named with your Redmine issue ID when you select a preload folder during submission. Example For an example of an SRA Upload, see issue 14963 . How long does it take? If your request is for a small number of files, it will generally be done within a few minutes. The more files requested, the longer the request will take. What can go wrong? A few things can go wrong with this process: 1) Requested SEQIDs are not available. If we can't find some of the SEQIDs that you request, you will get a warning message informing you of it. 2) FTP timeout. Sometimes, particularly for larger requests, the upload to the FTP will run into problems and time out, in which case you will likely get an error message similar to this: [Errno 104] Connection reset by peer . If this occurs, you can either try again later, or, if you had a large request, try splitting it into a few smaller requests. If the problem persists, send us an email and we'll try to get it figured out. 3) Bad FTP credentials. If the username and password for the NCBI FTP site didn't work you'll get a message telling you so. Make sure your username is on the first line of the request and password is second. 4) FTP folder does not exist. If the FTP folder specified on the third line of the description isn't correct, you'll get a message saying so.","title":"SRA Upload"},{"location":"data/sra_upload/#sra-upload","text":"","title":"SRA Upload"},{"location":"data/sra_upload/#what-does-it-do","text":"SRA Upload allows you to preload your sequence data for submission to the NCBI SRA using an FTP connection.","title":"What does it do?"},{"location":"data/sra_upload/#how-do-i-use-it","text":"","title":"How do I use it?"},{"location":"data/sra_upload/#subject","text":"In the Subject field, put SRA Upload . Spelling counts, but case sensitivity doesn't.","title":"Subject"},{"location":"data/sra_upload/#description","text":"Before submitting, you'll need to get your FTP username, FTP password, and FTP folder name from the SRA. To do this, log in to the SRA submission portal. Click on the My Submissions tab towards the top right of the page, and then in the Start a new submission box, click Sequence Read Archive . Under Options to preload data , click FTP upload , and take note of the Username , Password , and the text under Navigate to your account folder. Once you have those three things, you're ready to go. Put the username in the first line of the description, password in the second line, and the folder specified in the third (it should be something like uploads/youremail_a1d3a1 ). In subsequent lines, put the SeqIDs you want to upload files for. Once the request finishes running, you should be able to find a folder named with your Redmine issue ID when you select a preload folder during submission.","title":"Description"},{"location":"data/sra_upload/#example","text":"For an example of an SRA Upload, see issue 14963 .","title":"Example"},{"location":"data/sra_upload/#how-long-does-it-take","text":"If your request is for a small number of files, it will generally be done within a few minutes. The more files requested, the longer the request will take.","title":"How long does it take?"},{"location":"data/sra_upload/#what-can-go-wrong","text":"A few things can go wrong with this process: 1) Requested SEQIDs are not available. If we can't find some of the SEQIDs that you request, you will get a warning message informing you of it. 2) FTP timeout. Sometimes, particularly for larger requests, the upload to the FTP will run into problems and time out, in which case you will likely get an error message similar to this: [Errno 104] Connection reset by peer . If this occurs, you can either try again later, or, if you had a large request, try splitting it into a few smaller requests. If the problem persists, send us an email and we'll try to get it figured out. 3) Bad FTP credentials. If the username and password for the NCBI FTP site didn't work you'll get a message telling you so. Make sure your username is on the first line of the request and password is second. 4) FTP folder does not exist. If the FTP folder specified on the third line of the description isn't correct, you'll get a message saying so.","title":"What can go wrong?"},{"location":"internal_only/merge/","text":"Merge What does it do? Merge will take data from multiple MiSeq runs of the same strain and combine the FASTQ files in order to produce a better assembly. How do I use it? Subject In the Subject field, put Merge . Spelling counts, but case sensitivity doesn't. Description No text necessary in the description. You will, however, need to attach an excel file (.xlsx extension) with the following headers: Location: Should be 'MER' SEQID: Put the name of the merged SEQID (YYYY-MER-####) OLNID: Can be blank LabID: Can be blank LabIDIsolate: Can be blank OtherName: The SeqIDs you want to merge, separated by semi-colons. Genus: Genus of the isolate. Can be left blank. Species: Can be blank Subspecies: Can be blank Serotype: Can be blank An example file can be found with the example issue below. Example For an example Merge, see issue 14285 . Interpreting Results You'll get back the reports and assemblies, as you would for a WGS Assembly issue. How long does it take? Merge will take quite a while, depending on how many samples you have. Probably roughly half an hour per sample. What can go wrong? 1) Requested SEQIDs are not available. If we can't find some of the SEQIDs that you request, you will get a warning message informing you of it.","title":"Merge"},{"location":"internal_only/merge/#merge","text":"","title":"Merge"},{"location":"internal_only/merge/#what-does-it-do","text":"Merge will take data from multiple MiSeq runs of the same strain and combine the FASTQ files in order to produce a better assembly.","title":"What does it do?"},{"location":"internal_only/merge/#how-do-i-use-it","text":"","title":"How do I use it?"},{"location":"internal_only/merge/#subject","text":"In the Subject field, put Merge . Spelling counts, but case sensitivity doesn't.","title":"Subject"},{"location":"internal_only/merge/#description","text":"No text necessary in the description. You will, however, need to attach an excel file (.xlsx extension) with the following headers: Location: Should be 'MER' SEQID: Put the name of the merged SEQID (YYYY-MER-####) OLNID: Can be blank LabID: Can be blank LabIDIsolate: Can be blank OtherName: The SeqIDs you want to merge, separated by semi-colons. Genus: Genus of the isolate. Can be left blank. Species: Can be blank Subspecies: Can be blank Serotype: Can be blank An example file can be found with the example issue below.","title":"Description"},{"location":"internal_only/merge/#example","text":"For an example Merge, see issue 14285 .","title":"Example"},{"location":"internal_only/merge/#interpreting-results","text":"You'll get back the reports and assemblies, as you would for a WGS Assembly issue.","title":"Interpreting Results"},{"location":"internal_only/merge/#how-long-does-it-take","text":"Merge will take quite a while, depending on how many samples you have. Probably roughly half an hour per sample.","title":"How long does it take?"},{"location":"internal_only/merge/#what-can-go-wrong","text":"1) Requested SEQIDs are not available. If we can't find some of the SEQIDs that you request, you will get a warning message informing you of it.","title":"What can go wrong?"},{"location":"tutorials/create_environment/","text":"Creating a mkdocs conda environment Create a fresh conda environment conda create -n mkdocs Activate the environment conda activate mkdocs Install mkdocs conda install mkdocs Install the bootswatch package, so that the flatly theme works pip install mkdocs-bootswatch","title":"Create Environment"},{"location":"tutorials/create_environment/#creating-a-mkdocs-conda-environment","text":"Create a fresh conda environment conda create -n mkdocs Activate the environment conda activate mkdocs Install mkdocs conda install mkdocs Install the bootswatch package, so that the flatly theme works pip install mkdocs-bootswatch","title":"Creating a mkdocs conda environment"},{"location":"tutorials/create_pages/","text":"Create a new page Ensure that the repository is up-to-date: if you don't have a local copy of the repositoty, clone a fresh version using git clone https://github.com/OLC-Bioinformatics/redmine-docs.git or update an existing copy with git pull origin master from within the repository Open redmine-docs/mkdocs.yml in the redmine-docs repository with your favourite text editor Decide where you wish to place the new page if you want a new analysis, update the file with the desired name and location of the analysis e.g. if you want to add SISTR, include the following line - 'SISTR': 'analysis/SISTR.md' (make sure you following the spacing conventions, and that the list is still alphabetical) to the 'Analysis' category Create an empty markdown file in the location specified in mkdocs.yml - the files are in the docs folder, so, in the above example, you would need to create docs/analysis/SISTR.md in the redmine-docs repository (I usually use touch to accomplish this: touch docs/analysis/SISTR.md if I'm in the root of the repository)","title":"Create Pages"},{"location":"tutorials/create_pages/#create-a-new-page","text":"Ensure that the repository is up-to-date: if you don't have a local copy of the repositoty, clone a fresh version using git clone https://github.com/OLC-Bioinformatics/redmine-docs.git or update an existing copy with git pull origin master from within the repository Open redmine-docs/mkdocs.yml in the redmine-docs repository with your favourite text editor Decide where you wish to place the new page if you want a new analysis, update the file with the desired name and location of the analysis e.g. if you want to add SISTR, include the following line - 'SISTR': 'analysis/SISTR.md' (make sure you following the spacing conventions, and that the list is still alphabetical) to the 'Analysis' category Create an empty markdown file in the location specified in mkdocs.yml - the files are in the docs folder, so, in the above example, you would need to create docs/analysis/SISTR.md in the redmine-docs repository (I usually use touch to accomplish this: touch docs/analysis/SISTR.md if I'm in the root of the repository)","title":"Create a new page"},{"location":"tutorials/edit_pages/","text":"Edit pages This is the way I edit pages. Feel free to use any method with which you are comfortable Get the mkdocs preview started mkdocs serve Navigate to the served pages in your browser e.g. http://127.0.0.1:8000/redmine-docs/ Ensure that the page you are going to edit is present in the Nav bar e.g. 'Analysis' -> 'SISTR' You should see an empty page Open the markdown file with your favourite editor Update the documentation using markdown language - I usually use one of the other files in the folder as a template to ensure that I'm following the same basic format each time Every time you save your document, the served page will refresh","title":"Edit Pages"},{"location":"tutorials/edit_pages/#edit-pages","text":"This is the way I edit pages. Feel free to use any method with which you are comfortable Get the mkdocs preview started mkdocs serve Navigate to the served pages in your browser e.g. http://127.0.0.1:8000/redmine-docs/ Ensure that the page you are going to edit is present in the Nav bar e.g. 'Analysis' -> 'SISTR' You should see an empty page Open the markdown file with your favourite editor Update the documentation using markdown language - I usually use one of the other files in the folder as a template to ensure that I'm following the same basic format each time Every time you save your document, the served page will refresh","title":"Edit pages"},{"location":"tutorials/publish_changes/","text":"Publish Changes Once you are satisfied with your new page, you need to commit your changes to the main and gh-pages branches of the repository (OPTIONAL) run git status to see confirm what needs to be added to the commit mkdocs.yml should be present under the 'Changes not staged for commit' section your new file (e.g. docs/analysis/SISTR.md ) should be present under the 'Untracked files' section add your new file to the repository git add mkdocs.yml docs/analysis/SISTR.md commit your changes with a useful message git commit -m \"Added SISTR analysis push your commits git push origin master use mkdocs to rebuild your site, and push the changes - https://olc-bioinformatics.github.io/redmine-docs/ should reflect the changes within a few minutes mkdocs gh-deploy","title":"Publish Changes"},{"location":"tutorials/publish_changes/#publish-changes","text":"Once you are satisfied with your new page, you need to commit your changes to the main and gh-pages branches of the repository (OPTIONAL) run git status to see confirm what needs to be added to the commit mkdocs.yml should be present under the 'Changes not staged for commit' section your new file (e.g. docs/analysis/SISTR.md ) should be present under the 'Untracked files' section add your new file to the repository git add mkdocs.yml docs/analysis/SISTR.md commit your changes with a useful message git commit -m \"Added SISTR analysis push your commits git push origin master use mkdocs to rebuild your site, and push the changes - https://olc-bioinformatics.github.io/redmine-docs/ should reflect the changes within a few minutes mkdocs gh-deploy","title":"Publish Changes"}]}